| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | MySQL Mode      |

# GRANT

## Purpose

You can use this statement to grant privileges to a user or role or grant roles to a user or role.

## Limitations and considerations

Loop granting is not supported. For example, if you granted role A to role B and role B to role C, an error will be reported when you grant role C to role A.

## Required privileges

### Privileges required for granting privileges to a user or role

* You must have the privileges that you want to grant. For example, you want to grant the `SELECT` privilege on the table `tbl1` to `user2` as `user1`. In this case, `user1` must have the `SELECT` privilege on the table `tbl1`.

* You must have the `GRANT OPTION` privilege. For more information about privileges in OceanBase Database, see [Privilege types in MySQL mode](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/100.permission-classification-of-mysql.md).

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>After a user is granted a privilege, the privilege takes effect only after the user is reconnected to OceanBase Database. </p>
</main>

### Privileges required for granting roles to a user or role

* If you have the `SUPER` privilege, you can execute `GRANT` to grant any roles to any users or roles.
* To grant a role to a user or role, you must have the granted role and the `ADMIN OPTION` privilege. For more information about how to view the privileges that you have, see [View user privileges](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/400.view-user-permissions-of-mysql-mode.md).

## Syntax

### Grant privileges to a user or role

```sql
GRANT {priv_type [, priv_type...]}
    ON priv_level
    TO {user [, user...]}
    [WITH GRANT OPTION];

user:
      user_or_role
    | user_name IDENTIFIED [WITH auth_plugin] BY password
    | user_name IDENTIFIED [WITH auth_plugin] BY PASSWORD password

user_or_role:
    user_name | role_name
```

### Grant roles to a user or role

```sql
GRANT role_name [, role_name ...]
    TO user_or_role [, user_or_role ...]
    [WITH ADMIN OPTION];

user_or_role:
    user_name | role_name
```

## Parameters

| **Parameter** | **Description** |
|----------------------------------------|--------------------------------------|
| priv_type | The type of the privilege to be granted. To grant multiple privileges to a user, separate the privileges with commas (`,`). For information about privilege types and their description, see [Privilege types in MySQL mode](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/100.permission-classification-of-mysql.md).  |
| priv_level | The level of the privilege to be granted. You can specify that the privilege takes effect on all databases and all tables (`*.*`), a specified database or table (`db_name.*` or `*.table_name`), or a specific table in a specific database (`db_name.table_name`).  |
| user | The user to which the privilege is granted. To grant privileges to multiple users, separate the usernames with commas (`,`). If the specified user does not exist, the statement creates the user directly.  |
| auth_plugin | The user authentication method. Currently, only the `mysql_native_password` authentication plug-in is supported.  |
| BY password | The password for the user to be authorized. The password is in plaintext and is saved in ciphertext on the server after it is saved to the `mysql.user` table. Enclose special characters in the password in quotation marks (<code>''</code> or <code>""</code>). Special characters include the following ones: <code>~!@#%^&*_-+=`\|(){}[]:;',.?/</code>.  |
| BY PASSWORD password | The password for the user to be authorized. The password is in ciphertext and is saved to the `mysql.user` table directly.  |
| WITH GRANT OPTION | Specifies whether to enable privilege delegation. When privilege delegation is enabled, grant revocation cascades to dependent users.  |
| role_name | The name of the role.  |
| WITH ADMIN OPTION | Specifies whether to enable role delegation. When role delegation is enabled, grant revocation does not cascade to dependent users or roles.  |

## Examples

### Example 1: Grant a privilege

* Grant the `CREATE VIEW` privilege on the `db1` database to the `user1` user and enable privilege delegation.

   ```shell
   obclient> GRANT CREATE VIEW ON db1.* TO user1 WITH GRANT OPTION;
   ```

* Grant the `CREATE` privilege on the `db1` database to the `user1` user and change the password for `user1`.

   ```shell
   obclient> GRANT CREATE ON db1.* TO user1 IDENTIFIED by '********';
   ```

   After executing the statement, check the password of `user1` in the `mysql.user` table. The password is updated to the newly set one.

* Grant the `CREATE` privilege on the `db1` database to a non-existing user named `user2` and set the password for `user2`.

   ```shell
   obclient> GRANT CREATE ON db1.* TO user2 IDENTIFIED by '********';
   ```

### Example 2: Grant a role

* Grant the role `role001` to the role `role002` and enable role delegation.

   ```sql
   obclient [test]> GRANT role001 TO role002 WITH ADMIN OPTION;
   ```

* Grant the role `role001` to the user `user001` and enable role delegation.

   ```sql
   obclient [test]> GRANT role001 TO user001 WITH ADMIN OPTION;
   ```

## References

* For more information about how to grant user privileges, see [Grant privileges](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/200.authority-of-mysql-mode.md).
* For more information about how to view user privileges, see [View user privileges](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/400.view-user-permissions-of-mysql-mode.md).
* You can query the `mysql.user` table to view information about the created user. For more information about the `mysql.user` table, see [mysql.user](../../../../700.system-views/400.system-view-of-mysql-mode/200.dictionary-view-of-mysql-mode/4200.mysql-user-of-mysql-mode.md).
* [Add privileges to a role](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/340.role-management-of-mysql-mode/300.grant-privileges-to-a-role-of-mysql-mode.md)
* [Grant a role to a user or role](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/340.role-management-of-mysql-mode/400.grant-a-role-to-a-role-or-user-of-mysql-mode.md)
* [Activate a role](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/340.role-management-of-mysql-mode/500.activating-roles-of-mysql-mode.md)
* [Indirectly grant privileges](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/350.indirect-authority-of-mysql-mode.md)
