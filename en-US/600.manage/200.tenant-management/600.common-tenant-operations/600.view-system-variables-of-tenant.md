|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# View system variables of a tenant

You can set system variables to ensure that the behaviors of OceanBase Database meet the service requirements. This topic describes how to view system variables of a tenant.

## View system variables of a tenant using the SHOW statement

1. Log on to a user tenant of the cluster as the `root` user.

   For example, for the `mq_t1` tenant:

   ```shell
   obclient -h172.30.xx.xx -P2883 -uroot@mq_t1#cluster -p**** -A
   ```

2. Execute the `SHOW` statement to query the system variables.

   ```sql
   SHOW [SESSION | GLOBAL] VARIABLES [LIKE 'pattern' | WHERE expr]
   ```

   where

   * `SESSION | GLOBAL`: SESSION indicates session-level system variables and GLOBAL indicates global-level system variables. If not specified, session-level system variables will be displayed by default.
   * `pattern`: indicates the variable keyword.

   Here is an example:

   * Query the session variables for `ob_query_timeout`:

      ```shell
      obclient [oceanbase]> SHOW VARIABLES LIKE 'ob_query_timeout';
      ```

      or

      ```shell
      obclient [oceanbase]> SHOW SESSION VARIABLES LIKE 'ob_query_timeout';
      ```

      The query result is as follows:

      ```shell
      +------------------+-------------+
      | Variable_name    | Value       |
      +------------------+-------------+
      | ob_query_timeout | 10000000    |
      +------------------+-------------+
      1 row in set
      ```

   * Query the global-level variables for `ob_query_timeout`:

      ```shell
      obclient [oceanbase]> SHOW GLOBAL VARIABLES WHERE variable_name LIKE 'ob_query_timeout';
      ```

      The query result is as follows:

      ```shell
      +------------------+-------------+
      | Variable_name    | Value       |
      +------------------+-------------+
      | ob_query_timeout | 10000000    |
      +------------------+-------------+
      1 row in set
      ```

## Query views for system variables of a tenant

:::tab
tab MySQL mode

1. Log on to the `mysql001` tenant of the cluster as the root user.

   ```shell
   obclient -P2881 -h172.30.xx.xx -uroot@mysql001#cluster -p**** -A -Doceanbase
   ```

2. Access the database named `oceanbase`.

   ```shell
   obclient [(none)]> USE oceanbase;
   ```

3. Query views for variable values.

   * Query the `INFORMATION_SCHEMA.SESSION_VARIABLES` view for the values of session-level variables of the `ob_query_timeout` tenant.

      ```shell
      obclient [oceanbase]> SELECT * FROM INFORMATION_SCHEMA.SESSION_VARIABLES WHERE VARIABLE_NAME = 'ob_query_timeout';
      ```

      The query result is as follows:

      ```shell
      +------------------+----------------+
      | VARIABLE_NAME    | VARIABLE_VALUE |
      +------------------+----------------+
      | ob_query_timeout | 10000000       |
      +------------------+----------------+
      1 row in set
      ```

   * Query the `INFORMATION_SCHEMA.GLOBAL_VARIABLES` view for the values of global-level variables of the `ob_query_timeout` tenant.

      ```shell
      obclient [oceanbase]> SELECT * FROM INFORMATION_SCHEMA.GLOBAL_VARIABLES WHERE VARIABLE_NAME = 'ob_query_timeout';
      ```

      The query result is as follows:

      ```shell
      +------------------+----------------+
      | VARIABLE_NAME    | VARIABLE_VALUE |
      +------------------+----------------+
      | ob_query_timeout | 10000000       |
      +------------------+----------------+
      1 row in set
      ```

   * Query the `DBA_OB_SYS_VARIABLES` view for the modification status and default value of the `ob_query_timeout` variable.

      ```shell
      obclient [oceanbase]> SELECT * FROM oceanbase.DBA_OB_SYS_VARIABLES WHERE NAME='ob_query_timeout';
      ```

      The query result is as follows:

      ```shell
      +----------------------------+----------------------------+------------------+----------+-----------+-----------+------------------+----------------------------------+---------------+-----------+
      | CREATE_TIME                | MODIFY_TIME                | NAME             | VALUE    | MIN_VALUE | MAX_VALUE | SCOPE            | INFO                             | DEFAULT_VALUE | ISDEFAULT |
      +----------------------------+----------------------------+------------------+----------+-----------+-----------+------------------+----------------------------------+---------------+-----------+
      | 2024-05-08 14:22:06.882646 | 2024-05-08 14:22:06.882646 | ob_query_timeout | 10000000 |           |           | GLOBAL | SESSION | Query timeout in microsecond(us) | 10000000      | YES       |
      +----------------------------+----------------------------+------------------+----------+-----------+-----------+------------------+----------------------------------+---------------+-----------+
      1 row in set
      ```

tab Oracle mode

1. Log on to the `oracle001` tenant of the cluster as the `sys` user.

   ```shell
   obclient -h172.30.xx.xx -P2883 -usys@oracle001#cluster -p**** -A
   ```

2. Query views for variable values.

   * Query the `SYS.TENANT_VIRTUAL_SESSION_VARIABLE` view for the values of session variables of the `ob_query_timeout` tenant.

      ```shell
      obclient [SYS]> SELECT * FROM SYS.TENANT_VIRTUAL_SESSION_VARIABLE WHERE VARIABLE_NAME = 'ob_query_timeout';
      +------------------+----------+
      | VARIABLE_NAME    | VALUE    |
      +------------------+----------+
      | ob_query_timeout | 10000000 |
      +------------------+----------+
      1 row in set
      ```

   * Query the `SYS.TENANT_VIRTUAL_GLOBAL_VARIABLE` view for the values of global-level variables of the `ob_query_timeout` tenant.

      ```shell
      obclient [SYS]> SELECT * FROM SYS.TENANT_VIRTUAL_GLOBAL_VARIABLE WHERE VARIABLE_NAME = 'ob_query_timeout';
      +------------------+----------+
      | VARIABLE_NAME    | VALUE    |
      +------------------+----------+
      | ob_query_timeout | 10000000 |
      +------------------+----------+
      1 row in set
      ```

   * Query the `DBA_OB_SYS_VARIABLES` view for the modification status and default value of the `ob_query_timeout` variable.

      ```shell
      obclient [SYS]> SELECT * FROM SYS.DBA_OB_SYS_VARIABLES WHERE NAME='ob_query_timeout';
      ```

      The query result is as follows:

      ```shell
      +------------------------------+------------------------------+------------------+----------+-----------+-----------+------------------+----------------------------------+---------------+-----------+
      | CREATE_TIME                  | MODIFY_TIME                  | NAME             | VALUE    | MIN_VALUE | MAX_VALUE | SCOPE            | INFO                             | DEFAULT_VALUE | ISDEFAULT |
      +------------------------------+------------------------------+------------------+----------+-----------+-----------+------------------+----------------------------------+---------------+-----------+
      | 08-MAY-24 02.22.41.007185 PM | 08-MAY-24 02.22.41.007185 PM | ob_query_timeout | 10000000 | NULL      | NULL      | GLOBAL | SESSION | Query timeout in microsecond(us) | 10000000      | YES       |
      +------------------------------+------------------------------+------------------+----------+-----------+-----------+------------------+----------------------------------+---------------+-----------+
      1 row in set
      ```

:::

## References

For more information about system variables, visit the following links:

* [Overview](../../../700.reference/800.configuration-items-and-system-variables/000.configuration-items-and-system-variables-overview.md)
* [Modify system variables of a tenant](../600.common-tenant-operations/700.modify-system-variables-of-tenant.md)