|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# Modify system variables of a tenant

System variables in OceanBase Database can be configured to meet business requirements. This topic describes how to modify the system variables of a tenant.

You can use the `SET` statement to modify system variables of a tenant.

* Setting session-level system variables only affects the current session and does not affect other sessions.
* Setting global-level system variables does not affect the current session. You need to log on again and establish a new session for the changes to take effect.

  <main id="notice" type='notice'>
   <h4>Notice</h4>
   <p>To set global-level system variables for MySQL tenants, you must have the <code>SUPER</code> or <code>ALTER SYSTEM</code> privilege. To set global-level system variables for Oracle tenants, you must have the <code>ALTER SYSTEM</code> privilege. Make sure that you have the required privileges before you set global-level system variables. For more information about user privileges, see <a href="../../500.security-and-permissions/300.access-control/200.user-and-permission/100.user-and-permission-overview.md">Overview</a>. </p>
  </main>

The following sections use `ob_query_timeout` to illustrate how to modify a system variable. `ob_query_timeout` specifies the timeout period for SQL queries, in microseconds. By increasing the value of `ob_query_timeout`, you can avoid SQL query failures due to query timeout during large-scale data queries.

## Modify a session-level system variable

1. Log on to a user tenant of the cluster as the `root` user.

   For example, to log on to the `mq_t1` tenant, run the following command:

   ```shell
   obclient -h172.30.xx.xx -P2883 -uroot@mq_t1#cluster -p**** -A
   ```

2. Query the session-level system variables of the tenant.

   ```shell
   obclient [(none)]> SHOW VARIABLES LIKE 'ob_query_timeout';
   ```

   The query result is as follows:

   ```shell
   +------------------+----------+
   | Variable_name    | Value    |
   +------------------+----------+
   | ob_query_timeout | 10000000 |
   +------------------+----------+
   1 row in set
   ```

3. Modify the value of the session-level system variable using the `SET` statement.

   ```shell
   obclient [oceanbase]> SET ob_query_timeout = 20000000;
   ```

    <main id="notice" type='explain'>
    <h4>Note</h4>
    <p>In Oracle mode, you can also use the statement <code>ALTER SESSION SET ob_query_timeout = 20000000;</code> to modify the value of the session-level system variable . </p>
    </main>

4. Query the modification result.

   ```shell
   obclient [(none)]> SHOW VARIABLES WHERE variable_name LIKE 'ob_query_timeout';
   ```

   The query result is as follows:

   ```shell
   +------------------+----------+
   | Variable_name    | Value    |
   +------------------+----------+
   | ob_query_timeout | 20000000 |
   +------------------+----------+
   1 row in set
   ```

## Modify a global-level system variable

1. Log on to a user tenant of the cluster as the `root` user.

   For example, for the `mq_t1` tenant:

   ```shell
   obclient -h172.30.xx.xx -P2883 -uroot@mq_t1#cluster -p**** -A
   ```

2. Query the global-level system variables of the tenant.

   ```shell
   obclient [(none)]> SHOW GLOBAL VARIABLES WHERE variable_name LIKE  'ob_query_timeout';
   ```

   The query result is as follows:

   ```shell
   +------------------+----------+
   | Variable_name    | Value    |
   +------------------+----------+
   | ob_query_timeout | 10000000 |
   +------------------+----------+
   1 row in set
   ```

3. Modify the value of the global-level system variable using the `SET` statement.

   ```shell
   obclient [oceanbase]> SET GLOBAL ob_query_timeout = 20000000;
   ```

    <main id="notice" type='explain'>
    <h4>Note</h4>
    <p>In Oracle mode, you can also use the statement <code>ALTER SYSTEM SET ob_query_timeout = 20000000;</code> to modify the value of the global-level system variable . </P>
    </main>

4. Query the modification result.

   ```shell
   obclient [(none)]> SHOW GLOBAL VARIABLES WHERE variable_name LIKE 'ob_query_timeout';
   ```

   The query result is as follows:

   ```shell
   +------------------+----------+
   | Variable_name    | Value    |
   +------------------+----------+
   | ob_query_timeout | 20000000 |
   +------------------+----------+
   1 row in set
   ```

   After the modification, you can execute the following statement to query the `DBA_OB_SYS_VARIABLES` view for the modification status and default value of the `ob_query_timeout` variable:

   ```shell
   obclient [oceanbase]> SELECT * FROM oceanbase.DBA_OB_SYS_VARIABLES WHERE NAME='ob_query_timeout';
   ```

   The query result is as follows:

   ```shell
   +----------------------------+----------------------------+------------------+----------+-----------+-----------+------------------+----------------------------------+---------------+-----------+
   | CREATE_TIME                | MODIFY_TIME                | NAME             | VALUE    | MIN_VALUE | MAX_VALUE | SCOPE            | INFO                             | DEFAULT_VALUE | ISDEFAULT |
   +----------------------------+----------------------------+------------------+----------+-----------+-----------+------------------+----------------------------------+---------------+-----------+
   | 2024-05-08 14:20:28.885780 | 2024-05-09 15:11:11.654128 | ob_query_timeout | 20000000 |           |           | GLOBAL | SESSION | Query timeout in microsecond(us) | 10000000      | NO        |
   +----------------------------+----------------------------+------------------+----------+-----------+-----------+------------------+----------------------------------+---------------+-----------+
   1 row in set
   ```

## Modify a Boolean variable

For variables displayed as ON/OFF in the `SHOW VARIABLES` command, you can modify the variable value using any of the following methods:

```sql
SET foreign_key_checks = ON;
SET foreign_key_checks = TRUE;
SET foreign_key_checks = 1;

SET GLOBAL foreign_key_checks = OFF;
SET GLOBAL foreign_key_checks = FALSE;
SET GLOBAL foreign_key_checks = 0;
```

<main id="notice" type='explain'>
 <h4>Note</h4>
 <p>Setting Boolean variables using ON/OFF, TRUE/FALSE, or 1/0 is equivalent. </p>
</main>

## References

For more information about system variables, visit the following links:

* [Overview](../../../700.reference/800.configuration-items-and-system-variables/000.configuration-items-and-system-variables-overview.md)
* [View system variables of a tenant](../600.common-tenant-operations/600.view-system-variables-of-tenant.md)