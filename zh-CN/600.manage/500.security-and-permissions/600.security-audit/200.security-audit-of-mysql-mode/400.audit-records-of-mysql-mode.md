|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|

# 查看审计记录

审计记录的字段在现有 sql_audit 的字段上进行扩充，修改点如下
● 增加 EVENT_CLASS，用于标识审计事件类型，取值包含：connection，table_access，general。和过滤器的定义保持一致
● 只记录用户session的请求，内部发起的sql不记录
● query sql会转换为utf8并且转义后输出。对于登陆登出事件，会记录 LOGON/LOGOFF
● 对于超长 sql，保存原串会导致内存占用过多，sql audit中的 QUERY_SQL 会截断到64k，但很多客户有查看完整sql的需求，审计日志需要支持记录完整 sql。超长sql在异步打印日志时会使用当前线程的 allocator 来分配内存，且回退为同步打印
具体字段列表如下，其中类型只影响打印格式，只有字符串和整型两种类型，字符串类型会用引号括起来










