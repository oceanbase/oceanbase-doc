|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# ODP 线程满

obproxy 的默认线程参数为 8192 个。当应用请求连接的数量大于这个值时，会表现为拒绝连接。本节介绍 obproxy 线程满的处理方案。

## 应急处理流程

obproxy 线程满的情况一般不容易发生，如果遇到通常根据如下两种情况进行相关处理。

* 使用集中式部署的 ODP 集群。

  如果您使用了集中式部署的 ODP 集群，出现线程满的情况时，一般考虑对 ODP 集群进行扩容，通过新加入的 ODP 节点来分担应用连接请求。可以在 OCP 扩容 obproxy 节点，具体步骤如下：

  1. 登录 OCP。

  2. 在左侧导航栏单击 **OBProxy**。

  3. 在集群列表中选择需要操作的 OBProxy 集群，进入 OBPRoxy 集群总览页面。

  4. 单击 **添加 OBProxy**。

  5. 在弹出框中填写 **软件版本、机房、SQL 端口、Exporter、机型、机器选择方式、主机** 等信息。

  6. 单击 **确定**。

  更多信息请参见 [添加 OBProxy](../../../../700.reference/1200.database-proxy/200.obproxy-management/300.manage-obproxy/100.add-obproxy.md)。
  
* 单点部署的 obproxy，或者是目前无法扩展节点的 ODP 集群

  如果您使用的是单点部署的 obproxy 节点，当出现线程满的情况时，可以考虑临时提高最大连接线程数解决当前问题。在 OCP 中直接修改 obproxy 集群配置参数，具体参考 OCP 使用指南。
