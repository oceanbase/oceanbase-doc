# 物理备库概述

物理备库是 OceanBase 数据库高可用解决方案的重要组成部分，当主库出现计划内或计划外（多数派副本故障）的不可用情况时，备库可以接管服务，并且提供无损切换（RPO = 0）和有损切换（RPO > 0）两种容灾能力，最大限度降低服务停机时间。

OceanBase 数据库 V4.1.0 版本之前，物理备库的产品形态为集群级主备。集群有两种角色：主集群和备集群，主集群下面所有用户租户都是主租户，备集群下面所有用户租户都是备租户，备集群会自动同步主集群的租户变更操作。

V4.1.0 版本开始，物理备库的产品形态变更为租户级主备。集群不再有主备角色概念，而只是承载租户的容器。用户租户有两种角色：主租户和备租户。主租户是用户创建的业务租户，支持完整的数据库服务能力，包括：查询、DML、DDL 等；备租户则仅提供容灾和只读服务的能力。一个主租户和若干备租户共同组成了租户级的物理备库高可用解决方案。

V4.1.0 版本的物理备库有以下特点：

* 主租户和备租户可以部署在同一个集群，也可以在不同的集群，以实现不同级别的容灾需求。

* 主租户和备租户在部署上是相互独立的，互相不感知对方的存在，仅需要在主租户和备租户之间配置好日志同步链路即可。OceanBase 数据库 V4.1.0 版本仅支持基于日志归档的方式建立日志同步链路。

* 物理备库仅支持最大性能模式，不支持其他保护模式，包括最大保护和最大可用模式。

物理备库的部署架构如下图所示。

![物理备库部署架构图](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.1.0/user-guide/active-and-standby-tenant/active-and-standby-tenant-deployment-architecture.png)
