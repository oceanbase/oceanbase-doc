# OceanBase 数据库企业版 V3.1.1

## 版本信息


* 发布时间：2021 年 5月 18日

* 版本号：V3.1.1

## 版本定位


本次发布版本（V3.1.1）为测试版本，供内外部项目进行 POC 验证测试。

## 功能增强


* 优化 CLOG 日志文件同步写入逻辑，去除对共享内存的使用，提升故障场景下日志数据的可靠性。

* 优化视图 `gv$sql_audit` 队列大小， 支持缓存 1 千万条记录。

* 优化视图 `gv$sql_audit` 中 `execute_time` 和 `get_plan_time` 字段的取值。

* MySQL 模式下支持 `ASIN()` 和 `ACOS()` 函数。

## 缺陷修复


* 修复了在返回行记录时对 `LOB` 类型列的字符集进行转换操作，解决客户端出现乱码的问题。

* 修复了 `EXISTS` 子查询带有 `NULL`、`COUNT(*)` 结果集不正确的问题。

* 修复了因排序规则敏感匹配导致的 SQL 执行计划缓存命中失败的问题。

* 修复了 `SHOW VARIABLES LIKE '%%'` 执行时间占比较高的问题。

* 修复了带备库升级执行 `upgrade_checker` 脚本报错 `4179` 的问题。
