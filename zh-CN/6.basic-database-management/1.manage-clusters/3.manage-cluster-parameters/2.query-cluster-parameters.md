查询集群参数
===========================

您可以通过 SQL 语句查询集群参数。

通过 SQL 语句查询集群参数
------------------------------------

集群参数即租户级配置项，您可以通过查询配置项来确认该配置项属于集群级配置项还是租户级配置项。

查询配置项的语句如下：

```sql
SHOW PARAMETERS [SHOW_PARAM_OPTS];
```

其中，`[SHOW_PARAM_OPTS]` ：可指定为 `[LIKE 'pattern' | WHERE expr]`，`WHERE expr` 中可以指定的列属性与 `SHOW PARAMETERS` 返回结果中的列属性一致。

`SHOW PARAMETERS` 返回结果中的列属性如下表所示。

|     列名     |                                                                                                                                                                                                                                                                                                                                                                                                                        含义                                                                                                                                                                                                                                                                                                                                                                                                                         |
|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| zone       | 所在的 Zone。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| svr_ip     | 机器 IP。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| svr_port   | 机器的端口。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| name       | 配置项名。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| data_type  | 配置项的数据类型，包括 `STRING`、`CAPACITY` 等。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| value      | 配置项的值。 **说明**  由于在修改配置项值时，支持修改指定 Zone 或 Server 的配置项值，故不同 Zone 或 Server 对应的配置项的值可能不同。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| info       | 配置项的说明信息。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| section    | 配置项所属的分类： *`SSTABLE`：表示 SSTable 相关的配置项。* `OBSERVER`：表示 OBServer 相关的配置项。   *`ROOT_SERVICE`：表示 RootService 相关的配置项。* `TENANT`：表示租户相关的配置项。   *`TRANS`：表示事务相关的配置项。* `LOAD_BALANCE`：表示负载均衡相关的配置项。   *`DAILY_MERGE`：表示合并相关的配置项。* `CLOG`：表示 Clog 相关的配置项。   *`LOCATION_CACHE`：表示 Location Cache 相关的配置项。* `CACHE`：表示缓存相关的配置项。   *`RPC`：表示 RPC 相关的配置项。* `OBPROXY`：表示 OBProxy 相关的配置项。    |
| scope      | 配置项范围属性： *`TENANT`：表示该配置项为租户级别的配置项* `CLUSTER`：表示该配置项为集群级别的配置项                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| source     | 当前值来源： *`TENANT`* `CLUSTER`   *`CMDLINE`* `OBADMIN`   *`FILE`* `DEFAULT`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| edit_level | 定义该配置项的修改行为： *`READONLY`：表示该参数不可修改。* `STATIC_EFFECTIVE`：表示该参数可修改但需要重启 OBServer 才会生效。   * `DYNAMIC_EFFECTIVE`：表示该参数可修改且修改后动态生效。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

从表中可知，当 `scope` 列对应的值为 `CLUSTER` 时 ，即表示该配置项为集群级配置项。

系统租户（即 `sys` 租户）和普通租户均可以查询集群级配置项的值。

示例：

```sql
obclient> SHOW PARAMETERS LIKE 'stack_size';

obclient> SHOW PARAMETERS WHERE edit_level='static_effective' AND name='stack_size';
```

OceanBase 数据库中各集群参数的详细说明信息请参见 [系统配置项](../../../../12.reference-guide/3.system-configuration-items/1.overview-of-system-configuration-items.md) 章节。

通过 OCP 查询集群参数
----------------------------------

您也可以在 OCP 上查看集群参数。

1. 登录 OCP 。默认进入 **集群** 页面。

2. 在 **集群** 页面的 **集群列表** 区域，选择待操作的集群并单击其集群名。

3. 在显示的页面的左侧导航栏上，单击 **参数管理** 。

   系统默认进入 **参数列表** 页面。 **参数列表** 中可以查看当前集群所有参数的信息。

   ![查看集群参数](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/2415019361/p360261.png)
   **说明**
   * 对于 **当前值** 列中，值后以 **（集群）** 标识的表示该值配置在集群范围内统一。例如，上图中 **backup_region** 的当前值列为 **0（集群** **）** ，表示 **0** 在集群范围内生效。

   * 对于 **当前值** 列中，值后以 **（自定义）** 标识的表示该值并非集群范围内统一，例如， **2d;1d（自定义** ） 表示用户自定义 **2d** 为针对某 Zone 的值， **1d** 为针对某 OBServer 的值。如果需了解这两个值各自生效的对象，可单击对应的值进行查看。

4. 在 **参数列表** 页面上方的搜索框中，输入参数名相关信息进行模糊搜索。

5. 在搜索结果中，找到指定的参数。
