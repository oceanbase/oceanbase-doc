查看资源的分配情况
==============================

OceanBase 数据库支持通过视图或 OCP 来查看租户的资源分配情况。

通过视图查看资源的分配情况
----------------------------------

1. 使用 `root` 用户登录数据库的 `sys` 租户。

2. 进入 `oceanbase` 数据库。

   ```sql
   obclient>USE oceanbase;
   ```

3. 执行以下命令，查看集群内所有租户的资源分配情况。

   ```sql
   obclient> SELECT * FROM gv$unit;
   +---------+----------------+-----------------------------+------------------+------------------------+-------+-----------+-------------+----------------+----------+---------------------+-----------------------+---------+---------+-------------+-------------+----------+----------+---------------+---------------------+
   | unit_id | unit_config_id | unit_config_name            | resource_pool_id | resource_pool_name     | zone  | tenant_id | tenant_name | svr_ip         | svr_port | migrate_from_svr_ip | migrate_from_svr_port | max_cpu | min_cpu | max_memory  | min_memory  | max_iops | min_iops | max_disk_size | max_session_num     |
   +---------+----------------+-----------------------------+------------------+------------------------+-------+-----------+-------------+----------------+----------+---------------------+-----------------------+---------+---------+-------------+-------------+----------+----------+---------------+---------------------+
   |       1 |              1 | sys_unit_config             |                1 | sys_pool               | zone1 |         1 | sys         | xx.xx.xx.217 |     2882 |                     |                     0 |       5 |     2.5 | 16106127360 | 12884901888 |    10000 |     5000 |  179593805824 | 9223372036854775807 |
   |    1001 |           1001 | config_MySQL_zone1_S1_fpw   |             1001 | pool_MySQL_zone1_fpw   | zone1 |      1001 | MySQL       | xx.xx.xx.217 |     2882 |                     |                     0 |     1.5 |     1.5 |  6442450944 |  6442450944 |     1250 |     1250 |  536870912000 |                 375 |
   |    1002 |           1002 | config_Oracle_zone1_S1_hpm  |             1002 | pool_Oracle_zone1_hpm  | zone1 |      1002 | Oracle      | xx.xx.xx.217 |     2882 |                     |                     0 |     1.5 |     1.5 |  6442450944 |  6442450944 |     1250 |     1250 |  536870912000 |                 375 |
   |    1005 |           1005 | config_Oracle1_zone1_S1_oom |             1005 | pool_Oracle1_zone1_oom | zone1 |      1003 | Oracle2     | xx.xx.xx.217 |     2882 |                     |                     0 |     1.5 |     1.5 |  6442450944 |  6442450944 |     1250 |     1250 |  536870912000 |                 375 |
   +---------+----------------+-----------------------------+------------------+------------------------+-------+-----------+-------------+----------------+----------+---------------------+-----------------------+---------+---------+-------------+-------------+----------+----------+---------------+---------------------+
   4 rows in set
   ```

   更多视图 `gv$unit` 的说明信息请参见 [gv$unit](../../12.reference-guide/1.system-views/2.performance-views/43.gv-unit.md)。

通过 OCP 查看资源的分配情况
-------------------------------------

1. 登录 OCP。

2. 在 **集群列表** 中找到待查看的集群，并单击集群名。

   进入集群的 **总览** 页面。

3. 在左侧导航栏上，单击 **资源管理** 。

4. 在 **资源水位** 页签的 **资源分配** 区域，可以查看集群中各租户的资源分配情况。

   ![查看资源分配](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9548251361/p323792.png)
