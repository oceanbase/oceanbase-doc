字典视图 
=========================

OceanBase 数据库 MySQL 模式下拥有数据字典，数据字典表受到保护，只能使用 DEBUG 调试获取到相关信息。字典视图是用来访问数据字典的，在 MySQL 模式下支持通过查询 information_schema 数据库下的视图或使用 SHOW 语句访问存储在数据字典表中的数据。

字典视图的组成 
----------------------------

OceanBase 数据库 MySQL 模式下的字典视图包含 `information_schema.*` 相关视图、`CDB_` 前缀视图以及 `mysql.*` 视图。

### 带有 information_schema 前缀的视图 

information_schema 提供对 MySQL 租户中数据库元数据（例如数据库或表的名称、列的数据类型或访问权限）的访问。 有时也叫做数据字典或系统目录。information_schema 是每个 MySQL 租户中的一个 Database/Schema，用于存储有关 MySQL 租户维护的所有其他数据库的信息。information_schema 数据库包含几个只读表。它们实际上是视图，而不是基表。

### 带有 mysql 前缀的视图 

带有 `mysql` 前缀的视图都是系统视图，包含存储 OceanBase 数据库 MySQL 模式下服务器运行时所需信息的表。一般地，带 `mysql` 前缀的视图包含存储数据库对象元数据的数据字典表和用于其他操作目的的系统表。OceanBase 数据库兼容了部分 `mysql` 前缀的视图，例如 `time_zone*` 记录了时区相关的信息，`user` 视图和 `db` 视图记录了用户权限相关的一些信息。

### 带有 oceanbase.CDB 前缀的视图 

OceanBase 数据库对于每个 `DBA_*` 视图，都对应在系统租户下定义了一个 `CDB_*` 视图。`CDB_*` 视图可用于获取包含在系统租户和普通租户中的部分数据库对象的有关信息。

字典视图的工作机制 
------------------------------

字典对象缓存是一个共享的全局缓存，它将以前访问过的数据字典对象存储在内存中，以实现对象重用并最小化磁盘 I/O。字典对象缓存使用基于 LRU 的逐出策略从内存中逐出最近最少使用的对象。

字典对象缓存包括存储不同对象类型的缓存分区。一些缓存分区大小限制是可配置的，而其他的则是硬编码的。

字典视图的存储 
----------------------------

将整个租户元数据作为一个整体存储的数据字典仅存储在系统租户中。

存储指定租户元数据的数据字典存储在此租户专用的字典表中。因此，每组数据字典表都存储在自己的指定的租户中，不同租户不可以跨租户访问到其他租户字典信息。
