|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|

# 6000 ~ 6999

此范围表示事物层错误码，包含事务、MVCC 与 clog 错误。

## ERROR 6001 (25000) : Transaction set changed during the execution


* OceanBase 错误码：6001

* 错误原因：更新请求需先读取数据再更新。如在更新之前数据发生变化，会导致向上层返回该错误码并重试。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6002 (25000) : Transaction idle timeout occurred, please rollback the transaction, set the variable ob_trx_idle_timeout to a larger value and then restart the transaction


* OceanBase 错误码：6278

* 兼容 MySQL 错误码：6002

相关问题案例：

* [事务空闲超时，错误代码 ERROR 6002](https://www.oceanbase.com/knowledge-base/oceanbase-database-1000000000217852)

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.0.0 版本开始引入。</p>
</main>

## ERROR 6002 (25000) : transaction needs rollback


* OceanBase 错误码：6224

* 兼容 MySQL 错误码：6002

相关问题案例：

* [INSERT 报错 transaction needs rollback](https://www.oceanbase.com/knowledge-base/oceanbase-database-1000000000209955)

## ERROR 6002 (25000) : Transaction exiting


* OceanBase 错误码：6223

* 兼容 MySQL 错误码：6002

## ERROR 6002 (25000) : transaction context count reach limit


* OceanBase 错误码：6234

* 兼容 MySQL 错误码：6002

## ERROR 6002 (HY000) : Transaction context does not exist


* OceanBase 错误码：6213

* 兼容 MySQL 错误码：6002

## ERROR 6002 (25000) : Partition is frozen


* OceanBase 错误码：6214

* 兼容 MySQL 错误码：6002

## ERROR 6002 (25000) : Transaction is killed


* OceanBase 错误码：6211

* 兼容 MySQL 错误码：6002

## ERROR 6005 (HY000) : Try lock row conflict


* OceanBase 错误码：6005

* 错误原因：更新操作加锁失败，向上层返回该错误码并重试。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

相关问题案例：

* [业务插入报错：-6005, Try lock row conflict](https://www.oceanbase.com/knowledge-base/oceanbase-database-1000000000340646)

## ERROR 6201 (25000) : Clock out of order


* OceanBase 错误码：6201

* 错误原因：内部错误码。后台时钟线程每 1 ms 运行一次，两次运行的时间间隔超过 10 ms 会报该错误码。

* 解决方式：如果频繁出现该错误，则需要检查机器负载是否偏高或者机器时钟不稳定。

## ERROR 6203 (25000) : Mask set has no node


* OceanBase 错误码：6203

* 错误原因：Mask set 容器不存在某个节点。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6204 (HY000) : Transaction has been decided


* OceanBase 错误码：6204

* 错误原因：表示事务已经发起提交。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6205 (HY000) : Transaction state invalid


* OceanBase 错误码：6205

* 错误原因：事务状态机异常。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

相关问题案例：

* [OBServer 切主后回放日志报错 ERROR 6205(OB_TRANS_INVALID_STATE)](https://www.oceanbase.com/knowledge-base/oceanbase-database-20000045536)

## ERROR 6206 (HY000) : Transaction state not changed


* OceanBase 错误码：6206

* 错误原因：状态机无需转换。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6208 (HY000) : Transaction message invalid


* OceanBase 错误码：6208

* 错误原因：无效的事务消息。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6209 (HY000) : Transaction message type invalid


* OceanBase 错误码：6209

* 错误原因：无效的消息类型。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6215 (HY000) : Partition is not frozen


* OceanBase 错误码：6215

* 错误原因：无用的错误码。

* 解决方式：无需处理。

## ERROR 6219 (HY000) : Transaction invalid log type


* OceanBase错误码：6219

* 错误原因：无效的日志类型。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6220 (HY000) : SQL sequence illegal


* OceanBase错误码：6220

* 错误原因：SQL 语句顺序不合法。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6221 (HY000) : Transaction context cannot be killed


* OceanBase 错误码：6221

* 错误原因：当前事务上下文不能被终止。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6222 (HY000) : Transaction state unknown


* OceanBase 错误码：6222

* 错误原因：未知的事务状态。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6227 (HY000) : Partition is not stopped


* OceanBase 错误码：6227

* 错误原因：分区未被设置为停止状态。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6228 (HY000) : Partition has been stopped


* OceanBase 错误码：6228

* 错误原因：分区已经被设置为停止状态。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6229 (HY000) : Partition has been blocked


* OceanBase 错误码：6229

* 错误原因：分区已经被设置为阻塞状态。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6231 (HY000) : replica is not readable


* OceanBase 错误码：6231

* 错误原因：当前副本不可读，返回上层重试。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6232 (HY000) : Partition is splitting


* OceanBase 错误码：6232

* 错误原因：分区正在分裂，返回上层重试。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6233 (HY000) : Transaction has been commited


* OceanBase 错误码：6233

* 错误原因：事务已提交。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6235 (25000) : can't serialize access for this transaction


* OceanBase 错误码：6235

* 错误原因：事务不可串行化。

* 解决方式：客户端需要回滚本事务，并重新执行。

相关问题案例：

* [OceanBase 数据库执行 SQL 报错 Can't serialize access for this transaction](https://www.oceanbase.com/knowledge-base/oceanbase-database-1000000000209985)

## ERROR 6236 (HY000) : transaction weak read version is not ready


* OceanBase 错误码：6236

* 错误原因：未能生成弱一致性读版本号。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6237 (HY000) : gts standby is invalid


* OceanBase 错误码：6237

* 错误原因：无效的备用 GTS 服务。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6238 (HY000) : gts update failed


* OceanBase 错误码：6238

* 错误原因：GTS 服务内部更新失败。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6239 (HY000) : gts is not serving


* OceanBase 错误码：6239

* 错误原因：没有开启 GTS 服务。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6240 (HY000) : pg partition not exist


* OceanBase 错误码：6240

* 错误原因：Partition group 不存在。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6241 (HY000) : transaction statement need retry


* OceanBase 错误码：6241

* 错误原因：语句需要重试，当前事务可能正在写日志或者请求发给 Follower。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6243 (HY000) : local schema is not new enough, replaying logs of user table from standby cluster needs to wait for schema refreshing


* OceanBase 错误码：6243

* 错误原因：本地 Schema 不够新，回放日志需要重试。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6244 (HY000) : out of transaction threshold


* OceanBase 错误码：6244

* 错误原因：事务超过 `_max_trx_size` 大小限制。

* 解决方式：调整事务大小。

相关问题案例：

* [DML 语句报错 -6244 out of transaction threshold](https://www.oceanbase.com/knowledge-base/oceanbase-database-1000000000209998)

## ERROR 6245 (XAE04) : Unknown XID


* OceanBase错误码：6245

* 错误原因：XA 事务请求中的 `xid` 无效。

* 解决方式：内部错误码。XA 事务对应返回值为 `-4`。事务管理器（TM）端捕获该返回值后，请联系技术支持人员进一步确认原因。

## ERROR 6246 (XAE07) : The command cannot be executed when global transaction is in this state


* OceanBase 错误码：6246

* 错误原因：XA 事务语句执行时遇到错误。

* 解决方式：内部错误码。XA 事务对应返回值为 `-7`。事务管理器（TM）端捕获该返回值后，请联系技术支持人员进一步确认原因。

## ERROR 6247 (XAE08) : The XID already exists


* OceanBase 错误码：6247

* 错误原因：执行 `XA_START` 时，已存在相同 `xid` 的 XA 事务。

* 解决方式：内部错误码。XA 事务对应返回值为 `-8`。事务管理器（TM）端捕获该返回值后，请联系技术支持人员进一步确认原因。

## ERROR 6248 (XAE09) : Some work is done outside global transaction


* OceanBase 错误码：6248

* 错误原因：XA 事务语句执行时，已存在事务上下文。

* 解决方式：内部错误码。XA 事务对应返回值为 `-9`。事务管理器（TM）端捕获该返回值后，需要技术支持人员检查业务逻辑确保 XA 事务语句没有在事务中被执行。

## ERROR 6249 (XAE05) : Invalid arguments were given


* OceanBase 错误码：6249

* 错误原因：XA 事务语句的参与无效。

* 解决方式：内部错误码。XA 事务对应返回值为 `-5`。事务管理器（TM）端捕获该返回值后，请联系技术支持人员进一步确认原因。

## ERROR 6250 (XAE03) : Resource manager error occurred in the transaction branch


* OceanBase 错误码：6250

* 错误原因：在执行 XA 事务语句时，遇到非预期错误。

* 解决方式：内部错误码。XA 事务对应返回值为 `-3`。事务管理器（TM）端捕获该返回值后，请联系技术支持人员进一步确认原因。

## ERROR 6251 (HY000) : Routine invoked in an improper context


* OceanBase 错误码：6251

* 错误原因：XA 事务语句在非合适的上下文中被调用。

* 解决方式：内部错误码。XA 事务对应返回值为 `-6`。事务管理器（TM）端捕获该返回值后，请联系技术支持人员进一步确认原因。

## ERROR 6252 (XA100) : Rollback was caused by an unspecified reason


* OceanBase 错误码：6252

* 错误原因：XA 事务由于未知原因已回滚。

* 解决方式：内部错误码。XA 事务对应返回值为 `100`（XA_RBBASE）。需要事务管理器（TM）端识别该返回值。

## ERROR 6253 (XA106) : Transaction branch took long


* OceanBase 错误码：6253

* 错误原因：XA 事务由于超时已回滚。

* 解决方式：内部错误码。XA 事务对应返回值为 `106`（`XA_RBBASE + 6`），需要事务管理器（TM）端识别该返回值。

## ERROR 6254 (HY000) : Transaction was read-only and has been committed


* OceanBase 错误码：6254

* 错误原因：XA 事务为只读事务，执行 XA_PREPARE。

* 解决方式：内部错误码。XA 事务对应返回值为 `3`，需要事务管理器（TM）端识别该返回值。

## ERROR 6255 (HY000) : Routine returned with no effect and may be re-issued


* OceanBase 错误码：6255

* 错误原因：目前无法立即执行完该 XA 语句请求，需要进行重试。

* 解决方式：内部错误码。XA 事务对应返回值为 `4`，事务管理器（TM） 端识别该返回值。

## ERROR 6256 (HY000) : Row has not been locked


* OceanBase 错误码：6256

* 错误原因：行锁尚未被加锁。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6257 (HY000) : Empty partition group


* OceanBase 错误码：6257

* 错误原因：Partition group 的 Partition 列表为空。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6265 (HY000) : object lock does not exist


* OceanBase 错误码：6265

* 错误原因：表锁相关，锁表中对应锁不存在。

* 解决方法：内部错误码。请联系技术人员协助排查。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.0.0 版本开始引入。</p>
</main>

## ERROR 6266 (HY000) : object lock exists


* OceanBase 错误码：6266

* 错误原因：表锁相关，上锁时对应的锁操作已经存在，即重复上锁。

* 解决方法：内部错误码。请联系技术人员协助排查。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.0.0 版本开始引入。</p>
</main>

## ERROR 6267 (HY000) : Try lock object conflict


* OceanBase 错误码：6267

* 错误原因：表锁相关，上锁时发生锁冲突。

* 解决方法：预留错误码，暂未启用。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.0.0 版本开始引入。</p>
</main>

## ERROR 6268 (HY000) : No log callbacks available


* OceanBase 错误码：6268

* 错误原因：单个事务未回调的日志数量已经达到上限，无法继续提交日志。

* 解决方法：重试，等待日志层回调。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.0.0 版本开始引入。</p>
</main>

## ERROR 6275 (HY000) : object lock not completed, and can not unlock


* OceanBase 错误码：6275

* 错误原因：DDL 解锁时，对应的上表锁事务还未结束。

* 解决方法：内部错误码。请联系技术人员协助排查。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.0.0 版本开始引入。</p>
</main>

## ERROR 6276 (HY000) : there is an unlock operation doing, unlock conflict


* OceanBase 错误码：6276

* 错误原因：DDL 解锁时，已经存在另外一个解锁操作，但是还未结束。

* 解决方法：内部错误码。请联系技术人员协助排查。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.0.0 版本开始引入。</p>
</main>

## ERROR 6277 (HY000) : scn is out of bounds of memtable


* OceanBase 错误码：6277

* 错误原因：MemTable 设置 SCN 时超过其边界限制。

* 解决方法：内部错误码。若回显为 ERROR，请联系技术支持人员协助排查；若回显为 WARN，则表示正常。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.0.0 版本开始引入。</p>
</main>

## ERROR 6280 (HY000) : Transaction cost too much without commit or rollback

* OceanBase 错误码：6280
* 错误原因：事务存活时间较长，行锁无法释放。
* 解决方式：请分析业务场景判断长事务是否符合预期。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.1.0 版本开始引入。</p>
</main>

## ERROR 6281 (HY000) : Transaction commit cost too much

* OceanBase 错误码：6281
* 错误原因：事务提交或者回滚耗时长，事务提交异常。
* 解决方式：请联系技术支持人员协助排查。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.1.0 版本开始引入。</p>
</main>

## ERROR 6302 (HY000) : log scan runnable thread stop


* OceanBase 错误码：6302

* 错误原因：内部错误。在 OceanBase 数据库重启过程中，进程收到 `kill -15` 等信号，导致进程退出，`observer.log` 中会报上述错误码。

* 解决方式：重新启动进程即可。

## ERROR 6303 (HY000) : no log ever scanned


* OceanBase错误码：6303

* 错误原因：内部错误。Liboblog 在对应 OBServer 节点上未找到对应分区的日志。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6308 (HY000) : external executor handle do not finish


* OceanBase 错误码：6308

* 错误原因：内部错误。在 Liboblog 向 OBServer 节点基于启动时间戳定位 Partition 拉取日志的 `start_log_id` 时，支持了断点续传功能，若某个分区在这次 RPC 中未处理完成，会给 Liboblog 返回这个错误码，由 Liboblog 判断并执行后续逻辑。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6309 (HY000) : cursor not exist


* OceanBase 错误码：6309

* 错误原因：内部错误。表示对应的 `log_id` 在 Index Log Storage 中查询不到。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

相关问题案例：

* [OceanBase 备份时报错 OB_CURSOR_NOT_EXIST](https://www.oceanbase.com/knowledge-base/oceanbase-database-1000000000208071)

## ERROR 6310 (HY000) : stream not exist


* OceanBase 错误码：6310

* 错误原因：内部错误。当 Liboblog 执行的请求携带的流 ID 在 OBServer 节点内存中查不到对应流时，会报该错误码。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6311 (HY000) : stream busy


* OceanBase 错误码：6311

* 错误原因：内部错误。Liboblog 对相同的流同时执行了两次 RPC 请求，会报该错误码。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ## ERROR 6312 (HY000) : file recycled

* OceanBase 错误码：6312

* 错误原因：内部错误。基于 `Index Log` 中记录的信息读取的 `CLog File` 已经被回收，会报该错误码。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

相关问题案例：

* [逻辑增量备份因大事务超时，错误代码 6312](https://www.oceanbase.com/knowledge-base/oceanbase-database-20000000078?back=kb)

## ERROR 6313 (HY000) : replay eagain cost too much time


* OceanBase 错误码：6313

* 错误原因：内部错误。已经确认的日志提交给回放引擎，但回放引擎因为某种原因长时间返回 OB_EAGAIN （表示需要重试），会报该错误码。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6314 (HY000) : member change log sync failed


* OceanBase 错误码：6314

* 错误原因：内部错误。执行成员变更任务由于 Leader 切换等原因失败，需要重新执行。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6315 (HY000) : no need batch ctx


* OceanBase 错误码：6315

* 错误原因：内部错误。OceanBase 数据库分布式事务一阶段提交优化的内部状态，会自行处理。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6316 (HY000) : too large log id


* OceanBase 错误码：6316

* 错误原因：内部错误。日志对应的 LogId 超过了当前分区的处理范围，会报这个错误。对于 Leader 而言，表示并行处理的事务数超过了当前分区的处理能力，对于 Follower 而言，表示副本与 Leader 节点落后较多。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6317 (HY000) : alloc log id need retry


* OceanBase 错误码：6317

* 错误原因：内部错误。表示并发执行的事务超过了日志系统的处理能力，事务引擎会执行重试。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6318 (HY000) : transaction one pc not allowed


* OceanBase 错误码：6318

* 错误原因：内部错误。表示无法执行分布式事务一阶段提交。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6319 (HY000) : need rebuild


* OceanBase 错误码：6319

* 错误原因：内部错误。表示一个副本落后日志比较多，需要执行 `Rebuild` 来补齐数据。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6321 (HY000) : ob invalid batch size


* OceanBase 错误码：6321

* 错误原因：内部错误。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6322 (HY000) : ob clog slide timeout


* OceanBase 错误码：6322

* 错误原因：内部错误。表示单次某个分区由日志系统提交回放引擎的已确认日志执行时间超过系统内预设值，停止处理本分区，开始下一个分区的任务处理。

* 解决方式：内部错误码。请联系技术支持人员协助排查。

## ERROR 6325 (HY000) : ob clog disk hang

* OceanBase 错误码：6325

* 错误原因：Clog 日志磁盘被 Hang 住。

* 解决方法：检查磁盘状态和数据库负载情况。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.2.2 版本开始引入。</p>
</main>

## ERROR 6329 (HY000) : pdml sql need retry under sequence number reorder

* OceanBase 错误码：6329

* 错误原因：在序号重排序下，需要重新尝试执行 PDML 查询语句。

* 解决方法：在序号重排序后重新执行 PDML 查询语句。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.3.0 版本开始引入。</p>
</main>

## ERROR 6330 (HY000) : user data disk is almost full

* OceanBase 错误码：6330

* 错误原因：用户数据磁盘几乎已满。
* 解决方法：清理或增加用户数据磁盘空间，确保有足够的空间用于存储用户数据。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.3.0 版本开始引入。</p>
</main>

## ERROR 6400(HY000) : tablet_freeze timeout

* OceanBase 错误码：6400
* 错误原因：分区级冻结。
* 解决方式：请联系技术支持人员协助排查。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该错误码从 V4.1.0 版本开始引入。</p>
</main>
