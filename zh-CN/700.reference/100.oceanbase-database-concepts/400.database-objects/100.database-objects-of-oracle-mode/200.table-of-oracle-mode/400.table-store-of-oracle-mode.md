|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|

# 表存储 

OceanBase 数据库中使用宏块来存储数据，每张表可能包含多个宏块，每个宏块占用 2M 空间。宏块内包含一个或者多个微块，每个微块内包含一行或者多行数据。

## 表的组织形式 

OceanBase 数据库中的每张表都有存储键，对于无主键表，存储键是分区键和自动生成的隐藏自增列，而对于有主键表，存储键是用户指定的主键。OceanBase 数据库中使用聚集索引表模型来组织，也就是存储时按照表的存储键顺序来存储数据。当往表中插入一行数据时，会按照其存储键的顺序插入到表中。

每行存储的列顺序是一样的。OceanBase 数据库通常是按照建表时的列顺序来存储，新加的列都放在最后一列存储。

## 行存储 

行存储在微块中，一般情况下，行的所有列都是存储在一起的。当表中有大对象类型时，其所占用的存储空间会超过宏块大小，此时会将大对象类型溢出存储到其他的宏块中。

## 列存储

列存储是一种数据库存储方式，它将数据按照列的方式进行存储。在列存模式下，每个列的数据存储为一个独立的 SSTable，而所有列的 SSTable 会组合成一个虚拟的 SSTable，作为用户的列存基线数据。这种方式可以有效地提高查询性能和降低存储空间的消耗。

## RowIDs

OceanBase 数据库中只有聚集索引表的存储模型，ROWID 实际包含的数据是表的存储键列。

## 空值存储 

OceanBase 数据库中会存储空值，在存储中会使用一个字节来标记某列是否为空。
