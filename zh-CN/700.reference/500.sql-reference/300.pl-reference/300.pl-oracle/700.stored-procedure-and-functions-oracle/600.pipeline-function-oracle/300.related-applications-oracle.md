| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |

# 相关应用 

管道函数可以用于数据转换，并支持表函数间传递数据等。

  <main id="notice" >
    <h4>功能适用性</h4>
    <p>该内容仅适用于 OceanBase 数据库企业版。OceanBase 数据库社区版仅提供 MySQL 模式。</p>
  </main>

管道函数用于数据转换 
-------------------------------

带有游标变量参数的管道函数可以和常规函数一样接收任何参数。管道函数使用游标变量可以获取输入的行，并使用 `PIPE ROW` 语句将转换后的一行或多行通过管道传输到调用程序。如果 `FETCH` 和 `PIPE ROW` 语句位于 `LOOP` 语句中，则该函数可以转换多个输入行。

管道函数间传递数据 
------------------------------

管道函数的游标变量参数的实参可以是游标变量，也可以是 `CURSOR` 表达式，后者效率更高。当 SQL `SELECT` 语句将 `CURSOR` 表达式传递给函数时，引用的游标在函数开始运行时打开，在函数完成时关闭。

获取管道函数结果 
-----------------------------

您可以将命名游标与调用管道函数的查询相关联，以获取管道函数结果。这样的游标没有特别的获取语义，并且游标变量没有特别的赋值语义。

管道函数作为聚合函数时，它接受一组输入行并返回单个结果。`SELECT` 语句可以选择函数结果。

对管道函数结果的 DML 操作 
------------------------------------

管道函数返回的"表"不能是 `DELETE`、`INSERT`、`UPDATE` 或 `MERGE` 语句的目标表。但是，您可以创建此类表的视图并在视图上创建 `INSTEAD OF` 触发器。关于 `INSTEAD OF` 触发器的详细信息，请参见 [CREATE TRIGGER](../../1100.ddl-operations-on-stored-pl-units-oracle/1100.create-trigger-oracle.md)。
