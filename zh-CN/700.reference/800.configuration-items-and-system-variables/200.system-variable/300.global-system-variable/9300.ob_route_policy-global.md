|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# ob_route_policy

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该变量从 V1.4 版本开始引入。</p>
</main>

## 功能描述

`ob_route_policy` 用于设置 OBServer 节点内部选择数据副本的路由策略。

## 属性说明

|  **属性**  |       **描述**      |
|------------|---------------------|
| 参数类型     | Enum  |
| 默认值       | 1     |
| 取值范围     | <ul><li> 1（`READONLY_ZONE_FIRST`）：只读副本所在的 Zone 优先 </li>  <li> 2（`ONLY_READONLY_ZONE`）：仅发送到只读副本所在的 Zone  </li>  <li> 3（`UNMERGE_ZONE_FIRST`）：不在合并状态的副本所在的 Zone 优先  </li> <li> 4（`UNMERGE_FOLLOWER_FIRST`）：不在合并状态的 Follower 副本优先</li> <li>5（`FORCE_READONLY_ZONE`）：所有的只读请求不会转发到非只读副本</li></ul>   |
| 生效范围     |  <ul><li>GLOBAL </li><li>SESSION </li></ul>                                                                   |
| 是否可修改   | 是，支持通过 `SET` 语句修改。|

## 配置示例

设置 OBServer 节点内部选择数据副本的路由策略为只读副本所在的 Zone 优先。

* Session 生效

  ```shell
  obclient> SET ob_route_policy = 'READONLY_ZONE_FIRST';
  ```

  或者

  ```shell
  obclient> SET ob_route_policy = 1;
  ```

* Global 生效

  ```shell
  obclient> SET GLOBAL ob_route_policy = 'READONLY_ZONE_FIRST';
  ```

  或者

  ```shell
  obclient> SET GLOBAL ob_route_policy = 1;
  ```

## 相关文档

[SQL 路由](../../../100.oceanbase-database-concepts/600.data-link/200.database-proxy/200.sql-routing.md)
