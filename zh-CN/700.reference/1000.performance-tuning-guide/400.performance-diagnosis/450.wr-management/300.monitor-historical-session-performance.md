|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# 监测历史会话性能

WR 通过定期采集性能视图的数据信息，将所采集的 ASH、统计信息、等待事件和 SQL 执行情况等数据进行持久化和展示。

## 查看历史会话数据

* **通过 `oceanbase.CDB_WR_ACTIVE_SESSION_HISTORY` 视图查看所有租户持久化后的 ASH 数据。**

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.CDB_WR_ACTIVE_SESSION_HISTORY limit 1;
  ```

    返回结果如下：

    ```shell
    +------------+-----------+---------+----------------+----------+-----------+------------+----------------------------+---------+--------------+---------------+----------------------------------+-----------------------------------+----------+----------+-------------+------+------+------+------------------+----------+------------+----------+-------------+---------------+-----------------+------------------+-----------------+------------------+---------------+-----------------+------------------+-------------------------+----------------+----------------------------------------------+--------+--------+-----------+-----------+---------+---------------+-------------------+------------------+----------------------------------+----------------------+--------------------+-----------------------+---------------------------+-----------------------------+-----------------+---------------------+-----------------------+
    | CLUSTER_ID | TENANT_ID | SNAP_ID | SVR_IP         | SVR_PORT | SAMPLE_ID | SESSION_ID | SAMPLE_TIME                | USER_ID | SESSION_TYPE | SESSION_STATE | SQL_ID                           | TRACE_ID                          | EVENT_NO | EVENT_ID | TIME_WAITED | P1   | P2   | P3   | SQL_PLAN_LINE_ID | GROUP_ID | TIME_MODEL | IN_PARSE | IN_PL_PARSE | IN_PLAN_CACHE | IN_SQL_OPTIMIZE | IN_SQL_EXECUTION | IN_PX_EXECUTION | IN_SEQUENCE_LOAD | IN_COMMITTING | IN_STORAGE_READ | IN_STORAGE_WRITE | IN_REMOTE_DAS_EXECUTION | IN_FILTER_ROWS | PROGRAM                                      | MODULE | ACTION | CLIENT_ID | BACKTRACE | PLAN_ID | TM_DELTA_TIME | TM_DELTA_CPU_TIME | TM_DELTA_DB_TIME | TOP_LEVEL_SQL_ID                 | IN_PLSQL_COMPILATION | IN_PLSQL_EXECUTION | PLSQL_ENTRY_OBJECT_ID | PLSQL_ENTRY_SUBPROGRAM_ID | PLSQL_ENTRY_SUBPROGRAM_NAME | PLSQL_OBJECT_ID | PLSQL_SUBPROGRAM_ID | PLSQL_SUBPROGRAM_NAME |
    +------------+-----------+---------+----------------+----------+-----------+------------+----------------------------+---------+--------------+---------------+----------------------------------+-----------------------------------+----------+----------+-------------+------+------+------+------------------+----------+------------+----------+-------------+---------------+-----------------+------------------+-----------------+------------------+---------------+-----------------+------------------+-------------------------+----------------+----------------------------------------------+--------+--------+-----------+-----------+---------+---------------+-------------------+------------------+----------------------------------+----------------------+--------------------+-----------------------+---------------------------+-----------------------------+-----------------+---------------------+-----------------------+
    |      10001 |         1 |       1 | xx.xx.xx.xx |     2882 |        70 | 3221225601 | 2024-04-09 18:02:11.968531 |  200001 |            0 | WAITING       | 0C33DD6AFD8660496977D17711AE7E14 | YXXXXXXXXXX-000XXXXXXXXXXXX-0-0 |       18 |    13000 |           0 |  257 |  290 |    0 |             NULL |        0 |         16 | N        | N           | N             | N               | Y                | N               | N                | N             | N               | N                | N                       | N              | SQL CMD Query EXEC root@127.0.0.1 (T1_L0_G0) | NULL   | NULL   | NULL      | NULL      |     875 |       1002120 |                 0 |          1002120 | 0C33DD6AFD8660496977D17711AE7E14 | N                    | N                  |                  NULL |                      NULL | NULL                        |            NULL |                NULL | NULL                  |
    +------------+-----------+---------+----------------+----------+-----------+------------+----------------------------+---------+--------------+---------------+----------------------------------+-----------------------------------+----------+----------+-------------+------+------+------+------------------+----------+------------+----------+-------------+---------------+-----------------+------------------+-----------------+------------------+---------------+-----------------+------------------+-------------------------+----------------+----------------------------------------------+--------+--------+-----------+-----------+---------+---------------+-------------------+------------------+----------------------------------+----------------------+--------------------+-----------------------+---------------------------+-----------------------------+-----------------+---------------------+-----------------------+
    1 row in set (0.049 sec)
    ```

  各字段的解释如下：

  | **字段**| **描述** |
  | --- | --- |
  | CLUSTER_ID  | 集群 ID |
  | TENANT_ID  | 租户 ID |
  | SNAP_ID  | 快照 ID |
  | SVR_IP  | 节点 IP |
  | SVR_PORT  | 节点 PORT |
  | SAMPLE_ID  | 采样 ID |
  | SESSION_ID  | 被采样会话的 ID |
  | SAMPLE_TIME  | 采样时间 |
  | USER_ID  | 被采样 SESSION 的用户 ID |
  | SESSION_TYPE  | SESSION 类型 <ul><li>N：FOREGROUND 表示前台会话，即用户会话  </li><li>Y：BACKGROUND 表示后台会话 </li></ul> |
  | SESSION_STATE| SESSION 采样时刻的状态 <ul><li>`EVENT_NO == 0`："ON CPU" 表示当前没有等待，正在执行 SQL 逻辑  </li><li>`EVENT_NO ≠ 0`： "WAITTING" 表示当前正在等待，详细等待内容参考 EVENT 字段 </li></ul> |
  | SQL_ID  | SQL ID |
  | TRACE_ID| TRACE_ID |
  | EVENT_NO  | 等待事件内部编号，用于和其他表关联查询 |
  | EVENT_ID  | 表示当前等待事件的 ID |
  | TIME_WAITED  | 该等待事件的总等待时间，单位为微秒（us） |
  | P1  | 等待事件参数 1 的值 |
  | P2  | 等待事件参数 2 的值 |
  | P3  | 等待事件参数 3 的值 |
  | SQL_PLAN_LINE_ID  | 采样时对应 SQL 算子 ID。无对应算子时值为 NULL |
  | GROUP_ID          | 采样点的 Group 信息|
  | TIME_MODEL  | TIME MODEL 的相关信息 |
  | IN_PARSE  | 采样时当前 SESSION 是否正在做 SQL Parse |
  | IN_PL_PARSE  | 采样时当前 SESSION 是否正在做 SQL PL Parse |
  | IN_PLAN_CACHE  | 采样时当前 SESSION 是否正在做 plan cache |
  | IN_SQL_OPTIMIZE  | 采样时当前 SESSION 是否正在做 SQL 优化 |
  | IN_SQL_EXECUTION  | 采样时当前 SESSION 是否正在做 SQL 执行 |
  | IN_PX_EXECUTION  | 采样时当前 SESSION 是否正在做 SQL  并行执行。当 SESSION 处于本状态时，一定也处于 IN_SQL_EXECUTION 状态。 |
  | IN_SEQUENCE_LOAD  | 采样时当前 SESSION 是否正在做自增列或 SEQUENCE 取值 |
  | IN_COMMITTING  | 当前采样点是否处于事务提交阶段 |
  | IN_STORAGE_READ  | 当前采样点是否处于存储读阶段 |
  | IN_STORAGE_WRITE  | 当前采样点是否处于存储写阶段 |
  | IN_REMOTE_DAS_EXECUTION  | 当前采样点是否处于 DAS 远程执行阶段 |
  | IN_FILTER_ROWS           | 当前采样点的是否处于存储下压执行阶段  |
  | PROGRAM                  |当前采样点正在执行的程序名:<ul><li>后台线程：指线程名称，例如 `observer`、`WrTimer` 等  </li><li>前台线程:<ul><li>普通请求为 `user@client_ip (thread_name)`  </li><li>`inner_sql` 远程执行为 `INNER SQL REMOTE EXEC (thread_name)` </li><li>DAS 远程执行为 `DAS REMOTE EXEC (thread_name)` </li></ul> </li></ul>  |
  | MODULE| 采样时刻当前 SESSION 上记录的 MODULE 值，通过 `DBMS_APPLICATION_INFO.SET_MODULE` 包设置 |
  | ACTION| 采样时刻当前 SESSION 上记录的 ACTION 值，通过 `DBMS_APPLICATION_INFO.SET_ACTION` 包设置 |
  | CLIENT_ID| 采样时刻当前 SESSION 上记录的 CLIENT_ID 值，通过 `DBMS_APPLICATION_INFO.SET_IDENTIFIER` 包设置 |
  | BACKTRACE | 辅助调试字段，用于记录事件发生时的代码调用栈 |
  | PLAN_ID  | 采样到的 SQL 在 PLAN CACHE 中的计划 ID，用于将采样点与计划关联起来 |
  | TM_DELTA_TIME |计算 time model 的时间间隔，单位为微秒 |
  | TM_DELTA_CPU_TIME |过去 `TM_DELTA_TIME` 时间段内在 CPU 上花费的时间量 |
  | TM_DELTA_DB_TIME |过去 `TM_DELTA_TIME` 时间段内在数据库调用中花费的时间量 |
  | TOP_LEVEL_SQL_ID |顶层 SQL ID |
  | IN_PLSQL_COMPILATION |当前 PL 编译状态：Y/N |
  | IN_PLSQL_EXECUTION |当前 PL 执行状态：Y/N |
  | PLSQL_ENTRY_OBJECT_ID |顶层 PL 的 OBJECT ID |
  | PLSQL_ENTRY_SUBPROGRAM_ID |顶层 PL 的 Sub project ID |
  | PLSQL_ENTRY_SUBPROGRAM_NAME |顶层 PL 的 Sub project name |
  | PLSQL_OBJECT_ID |当前正在执行的 PL object ID |
  | PLSQL_SUBPROGRAM_ID |当前正在执行的 PL subprogram ID |
  | PLSQL_SUBPROGRAM_NAME |当前正在执行的 PL subprogram  name |

    有关 oceanbase.CDB_WR_ACTIVE_SESSION_HISTORY 视图的更多信息，请参见 [oceanbase.CDB_WR_ACTIVE_SESSION_HISTORY](../../../700.system-views/300.system-view-of-sys-tenant/200.dictionary-view-of-sys-tenant/24900.cdb_wr_active_session_history-of-sys-tenant.md)。

* **通过 `oceanbase.DBA_WR_ACTIVE_SESSION_HISTORY` 视图查看本租户持久化后的 ASH 数据。**

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.DBA_WR_ACTIVE_SESSION_HISTORY limit 1;
  ```

    返回结果如下：

    ```shell
    +------------+-----------+---------+----------------+----------+-----------+------------+----------------------------+---------+--------------+---------------+----------------------------------+-----------------------------------+----------+----------+-------------+------+------+------+------------------+----------+------------+----------+-------------+---------------+-----------------+------------------+-----------------+------------------+---------------+-----------------+------------------+-------------------------+----------------+----------------------------------------------+--------+--------+-----------+-----------+---------+---------------+-------------------+------------------+----------------------------------+----------------------+--------------------+-----------------------+---------------------------+-----------------------------+-----------------+---------------------+-----------------------+
    | CLUSTER_ID | TENANT_ID | SNAP_ID | SVR_IP         | SVR_PORT | SAMPLE_ID | SESSION_ID | SAMPLE_TIME                | USER_ID | SESSION_TYPE | SESSION_STATE | SQL_ID                           | TRACE_ID                          | EVENT_NO | EVENT_ID | TIME_WAITED | P1   | P2   | P3   | SQL_PLAN_LINE_ID | GROUP_ID | TIME_MODEL | IN_PARSE | IN_PL_PARSE | IN_PLAN_CACHE | IN_SQL_OPTIMIZE | IN_SQL_EXECUTION | IN_PX_EXECUTION | IN_SEQUENCE_LOAD | IN_COMMITTING | IN_STORAGE_READ | IN_STORAGE_WRITE | IN_REMOTE_DAS_EXECUTION | IN_FILTER_ROWS | PROGRAM                                      | MODULE | ACTION | CLIENT_ID | BACKTRACE | PLAN_ID | TM_DELTA_TIME | TM_DELTA_CPU_TIME | TM_DELTA_DB_TIME | TOP_LEVEL_SQL_ID                 | IN_PLSQL_COMPILATION | IN_PLSQL_EXECUTION | PLSQL_ENTRY_OBJECT_ID | PLSQL_ENTRY_SUBPROGRAM_ID | PLSQL_ENTRY_SUBPROGRAM_NAME | PLSQL_OBJECT_ID | PLSQL_SUBPROGRAM_ID | PLSQL_SUBPROGRAM_NAME |
    +------------+-----------+---------+----------------+----------+-----------+------------+----------------------------+---------+--------------+---------------+----------------------------------+-----------------------------------+----------+----------+-------------+------+------+------+------------------+----------+------------+----------+-------------+---------------+-----------------+------------------+-----------------+------------------+---------------+-----------------+------------------+-------------------------+----------------+----------------------------------------------+--------+--------+-----------+-----------+---------+---------------+-------------------+------------------+----------------------------------+----------------------+--------------------+-----------------------+---------------------------+-----------------------------+-----------------+---------------------+-----------------------+
    |      10001 |         1 |       1 | xx.xx.xx.xx |     2882 |        70 | 3221225601 | 2024-04-09 18:02:11.968531 |  200001 |            0 | WAITING       | 0C33DD6AFD8660496977D17711AE7E14 | YXXXXXXXXXX-000XXXXXXXXXXXX-0-0 |       18 |    13000 |           0 |  257 |  290 |    0 |             NULL |        0 |         16 | N        | N           | N             | N               | Y                | N               | N                | N             | N               | N                | N                       | N              | SQL CMD Query EXEC root@127.0.0.1 (T1_L0_G0) | NULL   | NULL   | NULL      | NULL      |     875 |       1002120 |                 0 |          1002120 | 0C33DD6AFD8660496977D17711AE7E14 | N                    | N                  |                  NULL |                      NULL | NULL                        |            NULL |                NULL | NULL                  |
    +------------+-----------+---------+----------------+----------+-----------+------------+----------------------------+---------+--------------+---------------+----------------------------------+-----------------------------------+----------+----------+-------------+------+------+------+------------------+----------+------------+----------+-------------+---------------+-----------------+------------------+-----------------+------------------+---------------+-----------------+------------------+-------------------------+----------------+----------------------------------------------+--------+--------+-----------+-----------+---------+---------------+-------------------+------------------+----------------------------------+----------------------+--------------------+-----------------------+---------------------------+-----------------------------+-----------------+---------------------+-----------------------+
    1 row in set (0.049 sec)

    ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | CLUSTER_ID  | 集群 ID |
  | TENANT_ID  | 租户 ID |
  | SNAP_ID  | 快照 ID |
  | SVR_IP  | 节点 IP |
  | SVR_PORT  | 节点 PORT |
  | SAMPLE_ID  | 采样 ID |
  | SESSION_ID  | 被采样会话的 ID |
  | SAMPLE_TIME  | 采样时间 |
  | USER_ID  | 被采样 SESSION 的用户 ID |
  | SESSION_TYPE  | SESSION 类型 <ul><li>N：FOREGROUND 表示前台会话，即用户会话  </li><li>Y：BACKGROUND 表示后台会话 </li></ul> |
  | SESSION_STATE| SESSION 采样时刻的状态 <ul><li>`EVENT_NO == 0`："ON CPU" 表示当前没有等待，正在执行 SQL 逻辑  </li><li>`EVENT_NO ≠ 0`： "WAITTING" 表示当前正在等待，详细等待内容参考 EVENT 字段 </li></ul> |
  | SQL_ID  | SQL ID |
  | TRACE_ID| TRACE_ID |
  | EVENT_NO  | 等待事件内部编号，用于和其他表关联查询 |
  | EVENT_ID  | 表示当前等待事件的 ID |
  | TIME_WAITED  | 该等待事件的总等待时间，单位为微秒（us） |
  | P1  | 等待事件参数 1 的值 |
  | P2  | 等待事件参数 2 的值 |
  | P3  | 等待事件参数 3 的值 |
  | SQL_PLAN_LINE_ID  | 采样时对应 SQL 算子 ID。无对应算子时值为 NULL |
  | GROUP_ID          | 采样点的 Group 信息|
  | TIME_MODEL  | TIME MODEL 的相关信息 |
  | IN_PARSE  | 采样时当前 SESSION 是否正在做 SQL Parse |
  | IN_PL_PARSE  | 采样时当前 SESSION 是否正在做 SQL PL Parse |
  | IN_PLAN_CACHE  | 采样时当前 SESSION 是否正在做 plan cache |
  | IN_SQL_OPTIMIZE  | 采样时当前 SESSION 是否正在做 SQL 优化 |
  | IN_SQL_EXECUTION  | 采样时当前 SESSION 是否正在做 SQL 执行 |
  | IN_PX_EXECUTION  | 采样时当前 SESSION 是否正在做 SQL  并行执行。当 SESSION 处于本状态时，一定也处于 IN_SQL_EXECUTION 状态。 |
  | IN_SEQUENCE_LOAD  | 采样时当前 SESSION 是否正在做自增列或 SEQUENCE 取值 |
  | IN_COMMITTING  | 当前采样点是否处于事务提交阶段 |
  | IN_STORAGE_READ  | 当前采样点是否处于存储读阶段 |
  | IN_STORAGE_WRITE  | 当前采样点是否处于存储写阶段 |
  | IN_REMOTE_DAS_EXECUTION  | 当前采样点是否处于 DAS 远程执行阶段 |
  | IN_FILTER_ROWS           | 当前采样点的是否处于存储下压执行阶段  |
  | PROGRAM                  |当前采样点正在执行的程序名:<ul><li>后台线程：指线程名称，例如 `observer`、`WrTimer` 等  </li><li>前台线程:<ul><li>普通请求为 `user@client_ip (thread_name)`  </li><li>`inner_sql` 远程执行为 `INNER SQL REMOTE EXEC (thread_name)` </li><li>DAS 远程执行为 `DAS REMOTE EXEC (thread_name)` </li></ul> </li></ul>  |
  | MODULE| 采样时刻当前 SESSION 上记录的 MODULE 值，通过 `DBMS_APPLICATION_INFO.SET_MODULE` 包设置 |
  | ACTION| 采样时刻当前 SESSION 上记录的 ACTION 值，通过 `DBMS_APPLICATION_INFO.SET_ACTION` 包设置 |
  | CLIENT_ID| 采样时刻当前 SESSION 上记录的 CLIENT_ID 值，通过 `DBMS_APPLICATION_INFO.SET_IDENTIFIER` 包设置 |
  | BACKTRACE | 辅助调试字段，用于记录事件发生时的代码调用栈 |
  | PLAN_ID  | 采样到的 SQL 在 PLAN CACHE 中的计划 ID，用于将采样点与计划关联起来 |
  | TM_DELTA_TIME |计算 time model 的时间间隔，单位为微秒 |
  | TM_DELTA_CPU_TIME |过去 `TM_DELTA_TIME` 时间段内在 CPU 上花费的时间量 |
  | TM_DELTA_DB_TIME |过去 `TM_DELTA_TIME` 时间段内在数据库调用中花费的时间量 |
  | TOP_LEVEL_SQL_ID |顶层 SQL ID |
  | IN_PLSQL_COMPILATION |当前 PL 编译状态：Y/N |
  | IN_PLSQL_EXECUTION |当前 PL 执行状态：Y/N |
  | PLSQL_ENTRY_OBJECT_ID |顶层 PL 的 OBJECT ID |
  | PLSQL_ENTRY_SUBPROGRAM_ID |顶层 PL 的 Sub project ID |
  | PLSQL_ENTRY_SUBPROGRAM_NAME |顶层 PL 的 Sub project name |
  | PLSQL_OBJECT_ID |当前正在执行的 PL object ID |
  | PLSQL_SUBPROGRAM_ID |当前正在执行的 PL subprogram ID |
  | PLSQL_SUBPROGRAM_NAME |当前正在执行的 PL subprogram  name |

    有关 `DBA_WR_ACTIVE_SESSION_HISTORY` 视图的更多信息，请参见 [oceanbase.DBA_WR_ACTIVE_SESSION_HISTORY](../../../700.system-views/400.system-view-of-mysql-mode/200.dictionary-view-of-mysql-mode/24700.dba_wr_active_session_history-of-mysql-mode.md) 和 [DBA_WR_ACTIVE_SESSION_HISTORY](../../../700.system-views/500.system-view-of-oracle-mode/200.dictionary-view-of-oracle-mode/31000.dba_wr_active_session_history-of-oracle-mode.md)。

* **通过 `GV$OB_ACTIVE_SESSION_HISTORY` 视图查看活跃会话历史记录。**

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.GV$OB_ACTIVE_SESSION_HISTORY limit 2;
  ```

  查询结果如下：

  ```shell
  +----------------+----------+-----------+---------------------+--------+---------+---------------+--------------+---------------+--------+---------+-----------------------------------+-------+----------+----------+--------+------+--------+------+--------+------+------------+---------------+-------------+------------------+----------+----------+-------------+---------------+-----------------+------------------+-----------------+------------------+---------------+-----------------+------------------+-------------------------+----------------+-----------------+--------+--------+-----------+-----------+---------------+-------------------+------------------+------------------+----------------------+--------------------+-----------------------+---------------------------+-----------------------------+-----------------+---------------------+-----------------------+
  | SVR_IP         | SVR_PORT | SAMPLE_ID | SAMPLE_TIME         | CON_ID | USER_ID | SESSION_ID    | SESSION_TYPE | SESSION_STATE | SQL_ID | PLAN_ID | TRACE_ID                          | EVENT | EVENT_NO | EVENT_ID | P1TEXT | P1   | P2TEXT | P2   | P3TEXT | P3   | WAIT_CLASS | WAIT_CLASS_ID | TIME_WAITED | SQL_PLAN_LINE_ID | GROUP_ID | IN_PARSE | IN_PL_PARSE | IN_PLAN_CACHE | IN_SQL_OPTIMIZE | IN_SQL_EXECUTION | IN_PX_EXECUTION | IN_SEQUENCE_LOAD | IN_COMMITTING | IN_STORAGE_READ | IN_STORAGE_WRITE | IN_REMOTE_DAS_EXECUTION | IN_FILTER_ROWS | PROGRAM         | MODULE | ACTION | CLIENT_ID | BACKTRACE | TM_DELTA_TIME | TM_DELTA_CPU_TIME | TM_DELTA_DB_TIME | TOP_LEVEL_SQL_ID | IN_PLSQL_COMPILATION | IN_PLSQL_EXECUTION | PLSQL_ENTRY_OBJECT_ID | PLSQL_ENTRY_SUBPROGRAM_ID | PLSQL_ENTRY_SUBPROGRAM_NAME | PLSQL_OBJECT_ID | PLSQL_SUBPROGRAM_ID | PLSQL_SUBPROGRAM_NAME |
  +----------------+----------+-----------+---------------------+--------+---------+---------------+--------------+---------------+--------+---------+-----------------------------------+-------+----------+----------+--------+------+--------+------+--------+------+------------+---------------+-------------+------------------+----------+----------+-------------+---------------+-----------------+------------------+-----------------+------------------+---------------+-----------------+------------------+-------------------------+----------------+-----------------+--------+--------+-----------+-----------+---------------+-------------------+------------------+------------------+----------------------+--------------------+-----------------------+---------------------------+-----------------------------+-----------------+---------------------+-----------------------+
  | xx.xx.xx.xx |     2882 |     37692 | 2024-04-10 19:42:16 |   1001 |       0 | 4483945857024 | BACKGROUND   | ON CPU        |        |       0 | YXXXXXXXXXX-000XXXXXXXXXXXX-0-0 |       |        0 |     NULL |        |    0 |        |    0 |        |    0 | OTHER      |           100 |           0 |             NULL |        0 | N        | N           | N             | N               | N                | N               | N                | N             | N               | N                | N                       | N              | T1001_ArbSer    | NULL   | NULL   | NULL      | NULL      |     180207216 |         178170471 |        180207216 | NULL             | N                    | N                  |                  NULL |                      NULL | NULL                        |            NULL |                NULL | NULL                  |
  | xx.xx.xx.xx |     2882 |     37693 | 2024-04-10 19:42:16 |   1001 |       0 | 4436701216768 | BACKGROUND   | ON CPU        |        |       0 | YXXXXXXXXXX-000XXXXXXXXXXXX-0-0 |       |        0 |     NULL |        |    0 |        |    0 |        |    0 | OTHER      |           100 |           0 |             NULL |        0 | N        | N           | N             | N               | N                | N               | N                | N             | N               | N                | N                       | N              | T1001_ArcSender | NULL   | NULL   | NULL      | NULL      |       1246754 |           1246754 |          1246754 | NULL             | N                    | N                  |                  NULL |                      NULL | NULL                        |            NULL |                NULL | NULL                  |
  +----------------+----------+-----------+---------------------+--------+---------+---------------+--------------+---------------+--------+---------+-----------------------------------+-------+----------+----------+--------+------+--------+------+--------+------+------------+---------------+-------------+------------------+----------+----------+-------------+---------------+-----------------+------------------+-----------------+------------------+---------------+-----------------+------------------+-------------------------+----------------+-----------------+--------+--------+-----------+-----------+---------------+-------------------+------------------+------------------+----------------------+--------------------+-----------------------+---------------------------+-----------------------------+-----------------+---------------------+-----------------------+
  2 rows in set (0.017 sec)
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | SVR_IP |样本所属服务器 IP |
  | SVR_PORT | 样本所属服务器端口号 |
  | SAMPLE_ID | 样本本机唯一编号 |
  | SAMPLE_TIME | 采样时间 |
  | CON_ID | 租户 ID |
  | USER_ID | 被采样会话的用户 ID |
  | SESSION_ID | 被采样会话的 ID |
  | SESSION_TYPE | 会话类型：<ul><li>FOREGROUND：前台会话，即：用户会话  </li><li>（暂不支持）BACKGROUND：后台会话 </li></ul>|
  | SESSION_STATE | 会话状态：<ul><li>ON CPU：当前没有等待，正在执行 SQL 逻辑  </li><li>WAITING：当前正在等待，详细等待内容参考 EVENT 字段 </li></ul>|
  | SQL_ID | SQL ID |
  | PLAN_ID | 采样到的 SQL 在 PLAN CACHE 中的计划 ID，用于将采样点与计划关联起来 |
  | TRACE_ID | 算子的 Trace ID |
  | EVENT | 等待事件的描述 |
  | EVENT_NO | 等待事件内部编号，用于和其他表关联查询 |
  | EVENT_ID | 表示当前等待事件的 ID |
  | P1TEXT | 等待事件的参数 1 的名称，EVENT 不同，这里的名称也会相应变化 |
  | P1 | 等待事件参数 1 的值 |
  | P2TEXT | 等待事件的参数 2 的名称，EVENT 不同，这里的名称也会相应变化 |
  | P2 | 等待事件参数 2 的值 |
  | P3TEXT | 等待事件的参数 3 的名称，EVENT 不同，这里的名称也会相应变化 |
  | P3 | 等待事件参数 3 的值 |
  | WAIT_CLASS | 等待事件所属类型 |
  | WAIT_CLASS_ID | 等待事件所属类型的 ID，用于和其他表关联查询 |
  | TIME_WAITED | 该等待事件的总等待时间，单位为微秒（us） |
  | SQL_PLAN_LINE_ID | 会话在采样时 SQL 算子在 SQL 计划中的编号 |
  | GROUP_ID         | 采样点的 Group 信息|
  | IN_PARSE | 会话在采样时是否正在做 SQL Parse |
  | IN_PL_PARSE | 会话在采样时是否正在做 SQL PL Parse |
  | IN_PLAN_CACHE | 会话在采样时是否正在做 Plan Cache 匹配 |
  | IN_SQL_OPTIMIZE | 会话在采样时是否正在做 SQL 解析优化 |
  | IN_SQL_EXECUTION | 会话在采样时是否正在做 SQL 执行 |
  | IN_PX_EXECUTION | 会话在采样时是否正在做 SQL 并行执行。当会话处于本状态时，一定也处于 IN_SQL_EXECUTION 状态 |
  | IN_SEQUENCE_LOAD | 会话在采样时是否正在做自增列或 SEQUENCE 取值 |
  | IN_COMMITTING | 当前采样点是否处于事务提交阶段 |
  | IN_STORAGE_READ | 当前采样点是否处于存储读阶段 |
  | IN_STORAGE_WRITE | 当前采样点是否处于存储写阶段 |
  | IN_REMOTE_DAS_EXECUTION | 当前采样点是否处于 DAS 远程执行阶段 |
  | IN_FILTER_ROWS | 表示当前采样点的是否处于存储下压执行阶段 |
  | PROGRAM | 当前采样点正在执行的程序名:<ul><li>后台线程：指线程名称，例如 `observer`、`WrTimer` 等  </li><li>前台线程:<ul><li>普通请求为 `user@client_ip (thread_name)`  </li><li>`inner_sql` 远程执行为 `INNER SQL REMOTE EXEC (thread_name)` </li><li>DAS 远程执行为 `DAS REMOTE EXEC (thread_name)` </li></ul> </li></ul>|
  | MODULE | 会话在采样时记录的 MODULE 值，通过 `DBMS_APPLICATION_INFO.SET_MODULE` 包设置。 |
  | ACTION | 会话在采样时记录的 ACTION 值，通过 `DBMS_APPLICATION_INFO.SET_ACTION` 包设置。 |
  | CLIENT_ID | 会话在采样时记录的 CLIENT_ID 值，通过 `DBMS_APPLICATION_INFO.SET_IDENTIFIER` 包设置。 |
  | BACKTRACE | 辅助调试字段，用于记录事件发生时的代码调用栈。该字段的值一直为 NULL |
  | TM_DELTA_TIME | 计算 time model 的时间间隔，单位为微秒 |
  | TM_DELTA_CPU_TIME | 过去 `TM_DELTA_TIME` 时间段内在 CPU 上花费的时间量 |
  | TM_DELTA_DB_TIME | 过去 `TM_DELTA_TIME` 时间段内在数据库调用中花费的时间量 |
  | TOP_LEVEL_SQL_ID | 顶层 SQL ID |
  | IN_PLSQL_COMPILATION | 当前 PL 编译状态：Y/N |
  | IN_PLSQL_EXECUTION | 当前 PL 执行状态：Y/N |
  | PLSQL_ENTRY_OBJECT_ID | 顶层 PL 的 OBJECT ID |
  | PLSQL_ENTRY_SUBPROGRAM_ID | 顶层 PL 的 Sub project ID |
  | PLSQL_ENTRY_SUBPROGRAM_NAME | 顶层 PL 的 Sub project name |
  | PLSQL_OBJECT_ID | 当前正在执行的 PL object ID |
  | PLSQL_SUBPROGRAM_ID | 当前正在执行的 PL subprogram ID |
  | PLSQL_SUBPROGRAM_NAME | 当前正在执行的 PL subprogram  name |

    有关 `GV$OB_ACTIVE_SESSION_HISTORY` 视图的更多信息，请参见 [GV$OB_ACTIVE_SESSION_HISTORY](../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/17200.gv-ob_active_session_history-of-mysql-mode.md)。

* **通过 `V$OB_ACTIVE_SESSION_HISTORY` 视图查看当前活跃会话历史记录。**

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.V$OB_ACTIVE_SESSION_HISTORY limit 2;
  ```

  查询结果如下：

  ```shell
  +----------------+----------+-----------+---------------------+--------+---------+---------------+--------------+---------------+--------+---------+-----------------------------------+-------+----------+----------+--------+------+--------+------+--------+------+------------+---------------+-------------+------------------+----------+----------+-------------+---------------+-----------------+------------------+-----------------+------------------+---------------+-----------------+------------------+-------------------------+----------------+-----------------+--------+--------+-----------+-----------+---------------+-------------------+------------------+------------------+----------------------+--------------------+-----------------------+---------------------------+-----------------------------+-----------------+---------------------+-----------------------+
  | SVR_IP         | SVR_PORT | SAMPLE_ID | SAMPLE_TIME         | CON_ID | USER_ID | SESSION_ID    | SESSION_TYPE | SESSION_STATE | SQL_ID | PLAN_ID | TRACE_ID                          | EVENT | EVENT_NO | EVENT_ID | P1TEXT | P1   | P2TEXT | P2   | P3TEXT | P3   | WAIT_CLASS | WAIT_CLASS_ID | TIME_WAITED | SQL_PLAN_LINE_ID | GROUP_ID | IN_PARSE | IN_PL_PARSE | IN_PLAN_CACHE | IN_SQL_OPTIMIZE | IN_SQL_EXECUTION | IN_PX_EXECUTION | IN_SEQUENCE_LOAD | IN_COMMITTING | IN_STORAGE_READ | IN_STORAGE_WRITE | IN_REMOTE_DAS_EXECUTION | IN_FILTER_ROWS | PROGRAM         | MODULE | ACTION | CLIENT_ID | BACKTRACE | TM_DELTA_TIME | TM_DELTA_CPU_TIME | TM_DELTA_DB_TIME | TOP_LEVEL_SQL_ID | IN_PLSQL_COMPILATION | IN_PLSQL_EXECUTION | PLSQL_ENTRY_OBJECT_ID | PLSQL_ENTRY_SUBPROGRAM_ID | PLSQL_ENTRY_SUBPROGRAM_NAME | PLSQL_OBJECT_ID | PLSQL_SUBPROGRAM_ID | PLSQL_SUBPROGRAM_NAME |
  +----------------+----------+-----------+---------------------+--------+---------+---------------+--------------+---------------+--------+---------+-----------------------------------+-------+----------+----------+--------+------+--------+------+--------+------+------------+---------------+-------------+------------------+----------+----------+-------------+---------------+-----------------+------------------+-----------------+------------------+---------------+-----------------+------------------+-------------------------+----------------+-----------------+--------+--------+-----------+-----------+---------------+-------------------+------------------+------------------+----------------------+--------------------+-----------------------+---------------------------+-----------------------------+-----------------+---------------------+-----------------------+
  | xx.xx.xx.xx |     2882 |     37692 | 2024-04-10 19:42:16 |   1001 |       0 | 4483945857024 | BACKGROUND   | ON CPU        |        |       0 | YXXXXXXXXXX-000XXXXXXXXXXXX-0-0 |       |        0 |     NULL |        |    0 |        |    0 |        |    0 | OTHER      |           100 |           0 |             NULL |        0 | N        | N           | N             | N               | N                | N               | N                | N             | N               | N                | N                       | N              | T1001_ArbSer    | NULL   | NULL   | NULL      | NULL      |     180207216 |         178170471 |        180207216 | NULL             | N                    | N                  |                  NULL |                      NULL | NULL                        |            NULL |                NULL | NULL                  |
  | xx.xx.xx.xx |     2882 |     37693 | 2024-04-10 19:42:16 |   1001 |       0 | 4436701216768 | BACKGROUND   | ON CPU        |        |       0 | YXXXXXXXXXX-000XXXXXXXXXXXX-0-0 |       |        0 |     NULL |        |    0 |        |    0 |        |    0 | OTHER      |           100 |           0 |             NULL |        0 | N        | N           | N             | N               | N                | N               | N                | N             | N               | N                | N                       | N              | T1001_ArcSender | NULL   | NULL   | NULL      | NULL      |       1246754 |           1246754 |          1246754 | NULL             | N                    | N                  |                  NULL |                      NULL | NULL                        |            NULL |                NULL | NULL                  |
  +----------------+----------+-----------+---------------------+--------+---------+---------------+--------------+---------------+--------+---------+-----------------------------------+-------+----------+----------+--------+------+--------+------+--------+------+------------+---------------+-------------+------------------+----------+----------+-------------+---------------+-----------------+------------------+-----------------+------------------+---------------+-----------------+------------------+-------------------------+----------------+-----------------+--------+--------+-----------+-----------+---------------+-------------------+------------------+------------------+----------------------+--------------------+-----------------------+---------------------------+-----------------------------+-----------------+---------------------+-----------------------+
  2 rows in set (0.017 sec)
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | SVR_IP |样本所属服务器 IP |
  | SVR_PORT | 样本所属服务器端口号 |
  | SAMPLE_ID | 样本本机唯一编号 |
  | SAMPLE_TIME | 采样时间 |
  | CON_ID | 租户 ID |
  | USER_ID | 被采样会话的用户 ID |
  | SESSION_ID | 被采样会话的 ID |
  | SESSION_TYPE | 会话类型：<ul><li>FOREGROUND：前台会话，即：用户会话  </li><li>（暂不支持）BACKGROUND：后台会话 </li></ul>|
  | SESSION_STATE | 会话状态：<ul><li>ON CPU：当前没有等待，正在执行 SQL 逻辑  </li><li>WAITING：当前正在等待，详细等待内容参考 EVENT 字段 </li></ul>|
  | SQL_ID | SQL ID |
  | PLAN_ID | 采样到的 SQL 在 PLAN CACHE 中的计划 ID，用于将采样点与计划关联起来 |
  | TRACE_ID | 算子的 Trace ID |
  | EVENT | 等待事件的描述 |
  | EVENT_NO | 等待事件内部编号，用于和其他表关联查询 |
  | EVENT_ID | 表示当前等待事件的 ID |
  | P1TEXT | 等待事件的参数 1 的名称，EVENT 不同，这里的名称也会相应变化 |
  | P1 | 等待事件参数 1 的值 |
  | P2TEXT | 等待事件的参数 2 的名称，EVENT 不同，这里的名称也会相应变化 |
  | P2 | 等待事件参数 2 的值 |
  | P3TEXT | 等待事件的参数 3 的名称，EVENT 不同，这里的名称也会相应变化 |
  | P3 | 等待事件参数 3 的值 |
  | WAIT_CLASS | 等待事件所属类型 |
  | WAIT_CLASS_ID | 等待事件所属类型的 ID，用于和其他表关联查询 |
  | TIME_WAITED | 该等待事件的总等待时间，单位为微秒（us） |
  | SQL_PLAN_LINE_ID | 会话在采样时 SQL 算子在 SQL 计划中的编号 |
  | GROUP_ID         | 采样点的 Group 信息|
  | IN_PARSE | 会话在采样时是否正在做 SQL Parse |
  | IN_PL_PARSE | 会话在采样时是否正在做 SQL PL Parse |
  | IN_PLAN_CACHE | 会话在采样时是否正在做 Plan Cache 匹配 |
  | IN_SQL_OPTIMIZE | 会话在采样时是否正在做 SQL 解析优化 |
  | IN_SQL_EXECUTION | 会话在采样时是否正在做 SQL 执行 |
  | IN_PX_EXECUTION | 会话在采样时是否正在做 SQL 并行执行。当会话处于本状态时，一定也处于 IN_SQL_EXECUTION 状态 |
  | IN_SEQUENCE_LOAD | 会话在采样时是否正在做自增列或 SEQUENCE 取值 |
  | IN_COMMITTING | 当前采样点是否处于事务提交阶段 |
  | IN_STORAGE_READ | 当前采样点是否处于存储读阶段 |
  | IN_STORAGE_WRITE | 当前采样点是否处于存储写阶段 |
  | IN_REMOTE_DAS_EXECUTION | 当前采样点是否处于 DAS 远程执行阶段 |
  | IN_FILTER_ROWS | 表示当前采样点的是否处于存储下压执行阶段 |
  | PROGRAM | 当前采样点正在执行的程序名:<ul><li>后台线程：指线程名称，例如 `observer`、`WrTimer` 等  </li><li>前台线程:<ul><li>普通请求为 `user@client_ip (thread_name)`  </li><li>`inner_sql` 远程执行为 `INNER SQL REMOTE EXEC (thread_name)` </li><li>DAS 远程执行为 `DAS REMOTE EXEC (thread_name)` </li></ul> </li></ul>|
  | MODULE | 会话在采样时记录的 MODULE 值，通过 `DBMS_APPLICATION_INFO.SET_MODULE` 包设置。 |
  | ACTION | 会话在采样时记录的 ACTION 值，通过 `DBMS_APPLICATION_INFO.SET_ACTION` 包设置。 |
  | CLIENT_ID | 会话在采样时记录的 CLIENT_ID 值，通过 `DBMS_APPLICATION_INFO.SET_IDENTIFIER` 包设置。 |
  | BACKTRACE | 辅助调试字段，用于记录事件发生时的代码调用栈。该字段的值一直为 NULL |
  | TM_DELTA_TIME | 计算 time model 的时间间隔，单位为微秒 |
  | TM_DELTA_CPU_TIME | 过去 `TM_DELTA_TIME` 时间段内在 CPU 上花费的时间量 |
  | TM_DELTA_DB_TIME | 过去 `TM_DELTA_TIME` 时间段内在数据库调用中花费的时间量 |
  | TOP_LEVEL_SQL_ID | 顶层 SQL ID |
  | IN_PLSQL_COMPILATION | 当前 PL 编译状态：Y/N |
  | IN_PLSQL_EXECUTION | 当前 PL 执行状态：Y/N |
  | PLSQL_ENTRY_OBJECT_ID | 顶层 PL 的 OBJECT ID |
  | PLSQL_ENTRY_SUBPROGRAM_ID | 顶层 PL 的 Sub project ID |
  | PLSQL_ENTRY_SUBPROGRAM_NAME | 顶层 PL 的 Sub project name |
  | PLSQL_OBJECT_ID | 当前正在执行的 PL object ID |
  | PLSQL_SUBPROGRAM_ID | 当前正在执行的 PL subprogram ID |
  | PLSQL_SUBPROGRAM_NAME | 当前正在执行的 PL subprogram  name |

    有关 `V$OB_ACTIVE_SESSION_HISTORY` 视图的更多信息，请参见 [V$OB_ACTIVE_SESSION_HISTORY](../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/17300.v-ob_active_session_history-of-mysql-mode.md)。

## 查看历史会话统计项

* **通过 `oceanbase.CDB_WR_STATNAME` 视图查看所有租户的系统统计项的名称。**

  ```sql
  obclient [oceanbase]> SELECT * FROM oceanbase.CDB_WR_STATNAME limit 1;
  ```

  返回结果如下：

  ```sql
    +------------+-----------+---------+---------------+
    | CLUSTER_ID | TENANT_ID | STAT_ID | STAT_NAME     |
    +------------+-----------+---------+---------------+
    |       4000 |         1 |   10000 | rpc packet in |
    +------------+-----------+---------+---------------+
    1 row in set (0.001 sec)
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | CLUSTER_ID  | 集群 ID |
  | TENANT_ID  | 租户 ID |
  | STAT_ID  | 统计项 ID |
  | STAT_NAME | 统计项名字 |

    有关 oceanbase.CDB_WR_STATNAME 视图的更多信息，请参见 [oceanbase.CDB_WR_STATNAME](../../../700.system-views/300.system-view-of-sys-tenant/200.dictionary-view-of-sys-tenant/25100.cdb_wr_statname-of-sys-tenant.md)。

* **通过 `oceanbase.DBA_WR_STATNAME` 视图查看本租户的系统统计项的名称。**

  ```sql
  obclient [oceanbase]> SELECT * FROM oceanbase.DBA_WR_STATNAME limit 1;
  ```

  返回结果如下：

  ```sql
    +------------+-----------+---------+---------------+
    | CLUSTER_ID | TENANT_ID | STAT_ID | STAT_NAME     |
    +------------+-----------+---------+---------------+
    |       4000 |         1 |   10000 | rpc packet in |
    +------------+-----------+---------+---------------+
    1 row in set (0.004 sec)
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | CLUSTER_ID  | 集群 ID |
  | TENANT_ID  | 租户 ID |
  | STAT_ID  | 统计项 ID |
  | STAT_NAME | 统计项名字 |

    有关 DBA_WR_STATNAME 视图的更多信息，请参见 [oceanbase.DBA_WR_STATNAME](../../../700.system-views/400.system-view-of-mysql-mode/200.dictionary-view-of-mysql-mode/24800.dba_wr_statname-of-mysql-mode.md) 和 [DBA_WR_STATNAME](../../../700.system-views/500.system-view-of-oracle-mode/200.dictionary-view-of-oracle-mode/31100.dba_wr_statname-of-oracle-mode.md)。

* **通过 `oceanbase.CDB_WR_SYSSTAT` 视图查看所有租户的系统统计项的详细信息。**

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.CDB_WR_SYSSTAT limit 1;
  ```

  返回结果如下：

  ```sql
    +------------+-----------+---------+----------------+----------+---------+--------+
    | CLUSTER_ID | TENANT_ID | SNAP_ID | SVR_IP         | SVR_PORT | STAT_ID | VALUE  |
    +------------+-----------+---------+----------------+----------+---------+--------+
    |       4000 |         1 |     114 | xx.xx.xx.xx    |     2882 |   10000 | 228856 |
    +------------+-----------+---------+----------------+----------+---------+--------+
    1 row in set (0.036 sec)
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- | 
  | CLUSTER_ID  | 集群 ID |
  | TENANT_ID  | 租户 ID |
  | SNAP_ID  | 快照 ID |
  | SVR_IP  | 节点 IP |
  | SVR_PORT  | 节点 PORT |
  | STAT_ID  | 统计项 ID |
  | VALUE  | 统计项的值 |

    有关 oceanbase.CDB_WR_SYSSTAT 视图的更多信息，请参见 [oceanbase.CDB_WR_SYSSTAT](../../../700.system-views/300.system-view-of-sys-tenant/200.dictionary-view-of-sys-tenant/25300.cdb_wr_sysstat-of-sys-tenant.md)。

* **通过 `oceanbase.DBA_WR_SYSSTAT` 视图查看本租户的系统统计项的详细信息。**

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.DBA_WR_SYSSTAT limit 1;
  ```

  返回结果如下：

  ```sql
    +------------+-----------+---------+----------------+----------+---------+--------+
    | CLUSTER_ID | TENANT_ID | SNAP_ID | SVR_IP         | SVR_PORT | STAT_ID | VALUE  |
    +------------+-----------+---------+----------------+----------+---------+--------+
    |       4000 |         1 |     114 | xx.xx.xx.xx    |     2882 |   10000 | 228856 |
    +------------+-----------+---------+----------------+----------+---------+--------+
    1 row in set (0.026 sec)
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | CLUSTER_ID  | 集群 ID |
  | TENANT_ID  | 租户 ID |
  | SNAP_ID  | 快照 ID |
  | SVR_IP  | 节点 IP |
  | SVR_PORT  | 节点 PORT |
  | STAT_ID  | 统计项 ID |
  | VALUE  | 统计项的值 |

    有关 DBA_WR_STATNAME 视图的更多信息，请参见 [oceanbase.DBA_WR_SYSSTAT](../../../700.system-views/400.system-view-of-mysql-mode/200.dictionary-view-of-mysql-mode/24900.dba_wr_sysstat-of-mysql-mode.md) 和 [DBA_WR_SYSSTAT](../../../700.system-views/500.system-view-of-oracle-mode/200.dictionary-view-of-oracle-mode/31200.dba_wr_sysstat-of-oracle-mode.md)。

## 查看 time model 统计项

* **通过 `GV$OB_SESS_TIME_MODEL` 查看集群中 Session 级别的 Time Model 统计项。**

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.GV$OB_SESS_TIME_MODEL LIMIT 10;
  ```

  返回结果如下：

  ```shell
  +---------------+-----------+----------------+----------+---------+--------------------+-------+
  | SID           | TENANT_ID | SVR_IP         | SVR_PORT | STAT_ID | STAT_NAME          | VALUE |
  +---------------+-----------+----------------+----------+---------+--------------------+-------+
  | 3298534883328 |      1002 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time |     0 |
  | 3298534883328 |      1002 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time     |     0 |
  | 3848290697216 |      1001 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time |     0 |
  | 3848290697216 |      1001 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time     |     0 |
  |    3221659555 |         1 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time |     3 |
  |    3221659555 |         1 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time     |     0 |
  | 4398046511104 |      1001 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time |     0 |
  | 4398046511104 |      1001 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time     |     0 |
  | 4947802324992 |      1004 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time |     0 |
  | 4947802324992 |      1004 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time     |     0 |
  +---------------+-----------+----------------+----------+---------+--------------------+-------+
  10 rows in set
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | SID        |  会话 ID     |
  | TENANT_ID  |  租户 ID     |
  | SVR_IP     |  节点 IP       |
  | SVR_PORT   |  节点端口号        |
  | STAT_ID    |  统计项 ID         |
  | STAT_NAME  |  统计项名称       |
  | VALUE      |  统计项值        |

    有关 `GV$OB_SESS_TIME_MODEL` 视图的更多信息，请参见 [GV$OB_SESS_TIME_MODEL](../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/16800.gv-ob_sess_time_model-of-mysql-mode.md)。

* **通过 `V$OB_SESS_TIME_MODEL` 视图查看当前节点上 Session 级别的 Time Model 统计项。**

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.V$OB_SESS_TIME_MODEL LIMIT 10;
  ```

  查询结果如下：

  ```shell
  +---------------+-----------+----------------+----------+---------+--------------------+-------+
  | SID           | TENANT_ID | SVR_IP         | SVR_PORT | STAT_ID | STAT_NAME          | VALUE |
  +---------------+-----------+----------------+----------+---------+--------------------+-------+
  | 3298534883328 |      1002 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time |     0 |
  | 3298534883328 |      1002 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time     |     0 |
  | 3848290697216 |      1001 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time |     0 |
  | 3848290697216 |      1001 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time     |     0 |
  | 4398046511104 |      1001 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time |     0 |
  | 4398046511104 |      1001 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time     |     0 |
  |    3221667747 |         1 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time |     0 |
  |    3221667747 |         1 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time     |     0 |
  | 4947802324992 |      1004 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time |     0 |
  | 4947802324992 |      1004 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time     |     0 |
  +---------------+-----------+----------------+----------+---------+--------------------+-------+
  10 rows in set
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | SID        |  会话 ID     |
  | TENANT_ID  |  租户 ID     |
  | SVR_IP     |  节点 IP       |
  | SVR_PORT   |  节点端口号        |
  | STAT_ID    |  统计项 ID         |
  | STAT_NAME  |  统计项名称       |
  | VALUE      |  统计项值        |

    有关 `V$OB_SESS_TIME_MODEL` 视图的更多信息，请参见 [V$OB_SESS_TIME_MODEL](../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/16900.v-ob_sess_time_model-of-mysql-mode.md)。

* **通过 `GV$OB_SYS_TIME_MODEL` 视图查看集群中租户级别的 Time Model 统计项。**

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.GV$OB_SYS_TIME_MODEL;
  ```

  查询结果如下：

  ```shell
  +-----------+----------------+----------+---------+-------------------------+------------+
  | TENANT_ID | SVR_IP         | SVR_PORT | STAT_ID | STAT_NAME               | VALUE      |
  +-----------+----------------+----------+---------+-------------------------+------------+
  |      1002 | 172.xx.xxx.xxx |     2882 |  200001 | DB time                 |    6135115 |
  |      1002 | 172.xx.xxx.xxx |     2882 |  200002 | DB CPU                  |    5500079 |
  |      1002 | 172.xx.xxx.xxx |     2882 |  200005 | background elapsed time | 3398189713 |
  |      1002 | 172.xx.xxx.xxx |     2882 |  200006 | background cpu time     | 3088552955 |
  |      1002 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time      |     635036 |
  |      1002 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time          |      80414 |
  +-----------+----------------+----------+---------+-------------------------+------------+
  6 rows in set
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | TENANT_ID  | 租户 ID     |
  | SVR_IP     | 节点 IP       |
  | SVR_PORT   | 节点端口号        |
  | STAT_ID    | 统计项 ID         |
  | STAT_NAME  | 统计项名称       |
  | VALUE      | 统计项值        |

    有关 `GV$OB_SYS_TIME_MODEL` 视图的更多信息，请参见 [GV$OB_SYS_TIME_MODEL](../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/17000.gv-ob_sys_time_model-of-mysql-mode.md)。

* **通过 `V$OB_SYS_TIME_MODEL` 视图查看当前节点上租户级别的 Time Model 统计项。**

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.V$OB_SYS_TIME_MODEL;
  ```

  查询结果如下：

  ```shell
  +-----------+----------------+----------+---------+-------------------------+------------+
  | TENANT_ID | SVR_IP         | SVR_PORT | STAT_ID | STAT_NAME               | VALUE      |
  +-----------+----------------+----------+---------+-------------------------+------------+
  |      1002 | 172.xx.xxx.xxx |     2882 |  200001 | DB time                 |    6227784 |
  |      1002 | 172.xx.xxx.xxx |     2882 |  200002 | DB CPU                  |    5586418 |
  |      1002 | 172.xx.xxx.xxx |     2882 |  200005 | background elapsed time | 3399416601 |
  |      1002 | 172.xx.xxx.xxx |     2882 |  200006 | background cpu time     | 3089779843 |
  |      1002 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time      |     641366 |
  |      1002 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time          |      80414 |
  +-----------+----------------+----------+---------+-------------------------+------------+
  6 rows in set
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | TENANT_ID  | 租户 ID     |
  | SVR_IP     | 节点 IP       |
  | SVR_PORT   | 节点端口号        |
  | STAT_ID    | 统计项 ID         |
  | STAT_NAME  | 统计项名称       |
  | VALUE      | 统计项值        |

    有关 `V$OB_SYS_TIME_MODEL` 视图的更多信息，请参见 [V$OB_SYS_TIME_MODEL](../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/17100.v-ob_sys_time_model-of-mysql-mode.md)。

* **通过 `oceanbase.CDB_WR_SYS_TIME_MODEL` 视图查看所有租户 Time Model 统计项的 WR 数据。**

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.CDB_WR_SYS_TIME_MODEL LIMIT 10;
  ```

  查询结果如下：

  ```shell
  +------------+-----------+---------+----------------+----------+---------+-------------------------+-----------+
  | CLUSTER_ID | TENANT_ID | SNAP_ID | SVR_IP         | SVR_PORT | STAT_ID | STAT_NAME               | VALUE     |
  +------------+-----------+---------+----------------+----------+---------+-------------------------+-----------+
  |      10001 |      1002 |       2 | 172.xx.xxx.xxx |     2882 |  200001 | DB time                 |     34505 |
  |      10001 |      1002 |       1 | 172.xx.xxx.xxx |     2882 |  200001 | DB time                 |     34505 |
  |      10001 |      1002 |       2 | 172.xx.xxx.xxx |     2882 |  200002 | DB CPU                  |      1966 |
  |      10001 |      1002 |       1 | 172.xx.xxx.xxx |     2882 |  200002 | DB CPU                  |      1966 |
  |      10001 |      1002 |       2 | 172.xx.xxx.xxx |     2882 |  200005 | background elapsed time | 233110335 |
  |      10001 |      1002 |       1 | 172.xx.xxx.xxx |     2882 |  200005 | background elapsed time | 116267272 |
  |      10001 |      1002 |       2 | 172.xx.xxx.xxx |     2882 |  200006 | background cpu time     | 209738761 |
  |      10001 |      1002 |       1 | 172.xx.xxx.xxx |     2882 |  200006 | background cpu time     | 104674501 |
  |      10001 |      1002 |       1 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time      |     32539 |
  |      10001 |      1002 |       1 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time          |         0 |
  +------------+-----------+---------+----------------+----------+---------+-------------------------+-----------+
  10 rows in set
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | CLUSTER_ID | 集群 ID     |
  | TENANT_ID  | 租户 ID     |
  | SNAP_ID    | 快照 ID      |
  | SVR_IP     | 节点 IP       |
  | SVR_PORT   | 节点端口号        |
  | STAT_ID    | 统计项 ID         |
  | STAT_NAME  | 统计项名称       |
  | VALUE      | 统计项值        |

    有关 oceanbase.CDB_WR_SYSSTAT 视图的更多信息，请参见 [oceanbase.CDB_WR_SYS_TIME_MODEL](../../../700.system-views/300.system-view-of-sys-tenant/200.dictionary-view-of-sys-tenant/28600.cdb_wr_sys_time_model-of-sys-tenant.md)。

* **通过 `oceanbase.DBA_WR_SYS_TIME_MODEL` 视图查看本租户 Time Model 统计项的 WR 数据。**

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.DBA_WR_SYS_TIME_MODEL LIMIT 10;
  ```

  查询结果如下：

  ```shell
  +---------+----------------+----------+---------+-------------------------+-----------+
  | SNAP_ID | SVR_IP         | SVR_PORT | STAT_ID | STAT_NAME               | VALUE     |
  +---------+----------------+----------+---------+-------------------------+-----------+
  |       2 | 172.xx.xxx.xxx |     2882 |  200001 | DB time                 |     34505 |
  |       1 | 172.xx.xxx.xxx |     2882 |  200001 | DB time                 |     34505 |
  |       2 | 172.xx.xxx.xxx |     2882 |  200002 | DB CPU                  |      1966 |
  |       1 | 172.xx.xxx.xxx |     2882 |  200002 | DB CPU                  |      1966 |
  |       2 | 172.xx.xxx.xxx |     2882 |  200005 | background elapsed time | 233110335 |
  |       1 | 172.xx.xxx.xxx |     2882 |  200005 | background elapsed time | 116267272 |
  |       2 | 172.xx.xxx.xxx |     2882 |  200006 | background cpu time     | 209738761 |
  |       1 | 172.xx.xxx.xxx |     2882 |  200006 | background cpu time     | 104674501 |
  |       1 | 172.xx.xxx.xxx |     2882 |  200010 | non idle wait time      |     32539 |
  |       1 | 172.xx.xxx.xxx |     2882 |  200011 | idle wait time          |         0 |
  +---------+----------------+----------+---------+-------------------------+-----------+
  10 rows in set
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | SNAP_ID    | 快照 ID      |
  | SVR_IP     | 节点 IP       |
  | SVR_PORT   | 节点端口号        |
  | STAT_ID    | 统计项 ID         |
  | STAT_NAME  | 统计项名称       |
  | VALUE      | 统计项值        |

    有关 DBA_WR_STATNAME 视图的更多信息，请参见 [oceanbase.DBA_WR_SYS_TIME_MODEL](../../../700.system-views/400.system-view-of-mysql-mode/200.dictionary-view-of-mysql-mode/26800.dba_wr_sys_time_model-of-mysql-mode.md) 和 [DBA_WR_SYS_TIME_MODEL](../../../700.system-views/500.system-view-of-oracle-mode/200.dictionary-view-of-oracle-mode/33100.dba_wr_sys_time_model-of-oracle-mode.md)。

## 查看 SQLSTAT 数据

* **通过 `GV$OB_SQLSTAT` 视图查看集群中 SQL 的基本性能统计数据。**
  
  每个 SQL 语句为一行（即每个 `SQL_ID` + `Plan_Hash` 的唯一值为一行）。其中，含 `_DELTA` 的列表示从上次采集 WR 快照到当前时间为止统计值的增量。

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.GV$OB_SQLSTAT LIMIT 1\G
  ```

  查询结果如下：

  ```shell
  *************************** 1. row ***************************
                        SVR_IP: 172.xx.xxx.xxx
                      SVR_PORT: 2882
                      TENANT_ID: 1002
                        SQL_ID: B7A6FA97FEC98C06F9586D23935AC4C6
                        PLAN_ID: 0
                      PLAN_HASH: 0
                      PLAN_TYPE: 0
                      QUERY_SQL: START TRANSACTION
                      SQL_TYPE: 69
                        MODULE: NULL
                        ACTION: NULL
                  PARSING_DB_ID: 201001
                PARSING_DB_NAME: oceanbase
                PARSING_USER_ID: 200001
              EXECUTIONS_TOTAL: 202176
              EXECUTIONS_DELTA: 156614
              DISK_READS_TOTAL: 0
              DISK_READS_DELTA: 0
              BUFFER_GETS_TOTAL: 0
              BUFFER_GETS_DELTA: 0
            ELAPSED_TIME_TOTAL: 13049640
            ELAPSED_TIME_DELTA: 10085095
                CPU_TIME_TOTAL: 0
                CPU_TIME_DELTA: 0
                  CCWAIT_TOTAL: 0
                  CCWAIT_DELTA: 0
              USERIO_WAIT_TOTAL: 0
              USERIO_WAIT_DELTA: 0
                  APWAIT_TOTAL: 0
                  APWAIT_DELTA: 0
  PHYSICAL_READ_REQUESTS_TOTAL: 0
  PHYSICAL_READ_REQUESTS_DELTA: 0
      PHYSICAL_READ_BYTES_TOTAL: 0
      PHYSICAL_READ_BYTES_DELTA: 0
          WRITE_THROTTLE_TOTAL: 0
          WRITE_THROTTLE_DELTA: 0
          ROWS_PROCESSED_TOTAL: 0
          ROWS_PROCESSED_DELTA: 0
      MEMSTORE_READ_ROWS_TOTAL: 0
      MEMSTORE_READ_ROWS_DELTA: 0
  MINOR_SSSTORE_READ_ROWS_TOTAL: 0
  MINOR_SSSTORE_READ_ROWS_DELTA: 0
  MAJOR_SSSTORE_READ_ROWS_TOTAL: 0
  MAJOR_SSSTORE_READ_ROWS_DELTA: 0
                      RPC_TOTAL: 0
                      RPC_DELTA: 0
                  FETCHES_TOTAL: 0
                  FETCHES_DELTA: 0
                    RETRY_TOTAL: 1
                    RETRY_DELTA: 0
                PARTITION_TOTAL: 0
                PARTITION_DELTA: 0
              NESTED_SQL_TOTAL: 0
              NESTED_SQL_DELTA: 0
                      SOURCE_IP: 172.xx.xxx.xxx
                    SOURCE_PORT: 2882
  1 row in set
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | ---- | ---- |
  | SVR_IP                        |   节点 IP |
  | SVR_PORT                      |   节点端口号     |
  | TENANT_ID                     |   租户 ID |
  | SQL_ID                        |   SQL 语句 ID   |
  | PLAN_ID                       |   执行计划 ID   |
  | PLAN_HASH                     |   执行计划的 Hash 值   |
  | PLAN_TYPE                     |   对于 SQL 计划的缓存，该字段表示计划的类型：<ul><li>`1`：表示 Local Plan </li> <li>`2`：表示 Remote Plan</li> <li>`3`：表示 Distributed Plan </li></ul> </br>对于 PL 对象缓存，该字段表示 PL 对象的类型：<ul><li>`1`：表示 Procedure</li> <li>`2`：表示 Function</li> <li>`3`：表示 Package</li> <li>`4`：表示 Anonymous Block </li></ul> |
  | QUERY_SQL                     |   全量的 SQL 文本 |
  | SQL_TYPE                      |   语句类型 |
  | MODULE                        |   该语句第一次被解析时的应用程序 Module，通过 `DBMS_APPLICATION_INFO.SET_MODULE` 包设置    |
  | ACTION                        |   该语句第一次被解析时的应用程序 Action，通过 `DBMS_APPLICATION_INFO.SET_ACTION` 包设置      |
  | PARSING_DB_ID                 |   语句解析时的数据库 ID    |
  | PARSING_DB_NAME               |   语句解析时的数据库名称     |
  | PARSING_USER_ID               |   语句解析时的用户 ID     |
  | EXECUTIONS_TOTAL              |   计划缓存中该计划的总执行次数     |
  | EXECUTIONS_DELTA              |   计划缓存中该计划总执行次数的增量      |
  | DISK_READS_TOTAL              |   磁盘读的总次数 |
  | DISK_READS_DELTA              |   磁盘读次数的增量 |
  | BUFFER_GETS_TOTAL             |   从缓存中逻辑读的总次数       |
  | BUFFER_GETS_DELTA             |   从缓存中逻辑读次数的增量      |
  | ELAPSED_TIME_TOTAL            |   该语句消耗的总时间。对于并行执行场景，该值为每个执行线程的累加值。          |
  | ELAPSED_TIME_DELTA            |   该语句消耗时间的增量   |
  | CPU_TIME_TOTAL                |   总的 CPU 耗时       |
  | CPU_TIME_DELTA                |   总 CPU 耗时的增量     |
  | CCWAIT_TOTAL                  |   并发类等待事件的总耗时       |
  | CCWAIT_DELTA                  |   并发类等待事件总耗时的增量       |
  | USERIO_WAIT_TOTAL             |   I/O 等待的总耗时      |
  | USERIO_WAIT_DELTA             |   I/O 等待的总耗时的增量      |
  | APWAIT_TOTAL                  |   应用类等待事件的总耗时        |
  | APWAIT_DELTA                  |   应用类等待事件总耗时的增量      |
  | PHYSICAL_READ_REQUESTS_TOTAL  |   物理读请求的总次数       |
  | PHYSICAL_READ_REQUESTS_DELTA  |   物理读请求次数的增量      |
  | PHYSICAL_READ_BYTES_TOTAL     |   物理读的总字节数     |
  | PHYSICAL_READ_BYTES_DELTA     |   物理读字节数的增量   |
  | WRITE_THROTTLE_TOTAL          |   写入 MemStore 时被限流的总时间    |
  | WRITE_THROTTLE_DELTA          |   写入 MemStore 时被限流的总时间的增量    |
  | ROWS_PROCESSED_TOTAL          |   语句处理的总行数    |
  | ROWS_PROCESSED_DELTA          |   语句处理的总行数的增量     |
  | MEMSTORE_READ_ROWS_TOTAL      |   从 MemStore 读取的总行数    |
  | MEMSTORE_READ_ROWS_DELTA      |   从 MemStore 读取的总行数的增量    |
  | MINOR_SSSTORE_READ_ROWS_TOTAL |   从 MINOR SSStore 读取的总行数   |
  | MINOR_SSSTORE_READ_ROWS_DELTA |   从 MINOR SSStore 读取的总行数的增量  |
  | MAJOR_SSSTORE_READ_ROWS_TOTAL |   从 MAJOR SSStore 读取的总行数     |
  | MAJOR_SSSTORE_READ_ROWS_DELTA |   从 MAJOR SSStore 读取的总行数的增量   |
  | RPC_TOTAL                     |   RPC 的总次数    |
  | RPC_DELTA                     |   RPC 次数的增量   |
  | FETCHES_TOTAL                 |   获取结果集的总次数   |
  | FETCHES_DELTA                 |   获取结果集次数的增量     |
  | RETRY_TOTAL                   |   SQL 重试的总次数   |
  | RETRY_DELTA                   |   SQL 重试次数的增量      |
  | PARTITION_TOTAL               |   SQL 执行扫描的分区数的总量      |
  | PARTITION_DELTA               |   SQL 执行扫描的分区数的增量    |
  | NESTED_SQL_TOTAL              |   嵌套 SQL 执行的总量，每多执行一次子 SQL 即增加 1     |
  | NESTED_SQL_DELTA              |   嵌套 SQL 执行的增量    |
  | SOURCE_IP                     |   请求来源的 IP     |
  | SOURCE_PORT                   |   请求来源的端口号      |

    有关 `GV$OB_SQLSTAT` 视图的更多信息，请参见 [GV$OB_SQLSTAT](../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/16600.gv-ob_sqlstat-of-mysql-mode.md)。

* **通过 `V$OB_SQLSTAT` 视图查看当前节点上 SQL 的基本性能统计数据。**
  
  每个 SQL 语句为一行（即每个 `SQL_ID` + `Plan_Hash` 的唯一值为一行）。其中，含 `_DELTA` 的列表示从上次采集 WR 快照到当前时间为止统计值的增量。

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.V$OB_SQLSTAT LIMIT 1\G
  ```

  查询结果如下：

  ```shell
  *************************** 1. row ***************************
                        SVR_IP: 172.xx.xxx.xxx
                      SVR_PORT: 2882
                      TENANT_ID: 1002
                        SQL_ID: B7A6FA97FEC98C06F9586D23935AC4C6
                        PLAN_ID: 0
                      PLAN_HASH: 0
                      PLAN_TYPE: 0
                      QUERY_SQL: START TRANSACTION
                      SQL_TYPE: 69
                        MODULE: NULL
                        ACTION: NULL
                  PARSING_DB_ID: 201001
                PARSING_DB_NAME: oceanbase
                PARSING_USER_ID: 200001
              EXECUTIONS_TOTAL: 202363
              EXECUTIONS_DELTA: 156801
              DISK_READS_TOTAL: 0
              DISK_READS_DELTA: 0
              BUFFER_GETS_TOTAL: 0
              BUFFER_GETS_DELTA: 0
            ELAPSED_TIME_TOTAL: 13062207
            ELAPSED_TIME_DELTA: 10097662
                CPU_TIME_TOTAL: 0
                CPU_TIME_DELTA: 0
                  CCWAIT_TOTAL: 0
                  CCWAIT_DELTA: 0
              USERIO_WAIT_TOTAL: 0
              USERIO_WAIT_DELTA: 0
                  APWAIT_TOTAL: 0
                  APWAIT_DELTA: 0
  PHYSICAL_READ_REQUESTS_TOTAL: 0
  PHYSICAL_READ_REQUESTS_DELTA: 0
      PHYSICAL_READ_BYTES_TOTAL: 0
      PHYSICAL_READ_BYTES_DELTA: 0
          WRITE_THROTTLE_TOTAL: 0
          WRITE_THROTTLE_DELTA: 0
          ROWS_PROCESSED_TOTAL: 0
          ROWS_PROCESSED_DELTA: 0
      MEMSTORE_READ_ROWS_TOTAL: 0
      MEMSTORE_READ_ROWS_DELTA: 0
  MINOR_SSSTORE_READ_ROWS_TOTAL: 0
  MINOR_SSSTORE_READ_ROWS_DELTA: 0
  MAJOR_SSSTORE_READ_ROWS_TOTAL: 0
  MAJOR_SSSTORE_READ_ROWS_DELTA: 0
                      RPC_TOTAL: 0
                      RPC_DELTA: 0
                  FETCHES_TOTAL: 0
                  FETCHES_DELTA: 0
                    RETRY_TOTAL: 1
                    RETRY_DELTA: 0
                PARTITION_TOTAL: 0
                PARTITION_DELTA: 0
              NESTED_SQL_TOTAL: 0
              NESTED_SQL_DELTA: 0
                      SOURCE_IP: 172.xx.xxx.xxx
                    SOURCE_PORT: 2882
  1 row in set
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | ---- | ---- |
  | SVR_IP                        |   节点 IP |
  | SVR_PORT                      |   节点端口号     |
  | TENANT_ID                     |   租户 ID |
  | SQL_ID                        |   SQL 语句 ID   |
  | PLAN_ID                       |   执行计划 ID   |
  | PLAN_HASH                     |   执行计划的 Hash 值   |
  | PLAN_TYPE                     |   对于 SQL 计划的缓存，该字段表示计划的类型：<ul><li>`1`：表示 Local Plan </li> <li>`2`：表示 Remote Plan</li> <li>`3`：表示 Distributed Plan </li></ul> </br>对于 PL 对象缓存，该字段表示 PL 对象的类型：<ul><li>`1`：表示 Procedure</li> <li>`2`：表示 Function</li> <li>`3`：表示 Package</li> <li>`4`：表示 Anonymous Block </li></ul> |
  | QUERY_SQL                     |   全量的 SQL 文本 |
  | SQL_TYPE                      |   语句类型 |
  | MODULE                        |   该语句第一次被解析时的应用程序 Module，通过 `DBMS_APPLICATION_INFO.SET_MODULE` 包设置    |
  | ACTION                        |   该语句第一次被解析时的应用程序 Action，通过 `DBMS_APPLICATION_INFO.SET_ACTION` 包设置      |
  | PARSING_DB_ID                 |   语句解析时的数据库 ID    |
  | PARSING_DB_NAME               |   语句解析时的数据库名称     |
  | PARSING_USER_ID               |   语句解析时的用户 ID     |
  | EXECUTIONS_TOTAL              |   计划缓存中该计划的总执行次数     |
  | EXECUTIONS_DELTA              |   计划缓存中该计划总执行次数的增量      |
  | DISK_READS_TOTAL              |   磁盘读的总次数 |
  | DISK_READS_DELTA              |   磁盘读次数的增量 |
  | BUFFER_GETS_TOTAL             |   从缓存中逻辑读的总次数       |
  | BUFFER_GETS_DELTA             |   从缓存中逻辑读次数的增量      |
  | ELAPSED_TIME_TOTAL            |   该语句消耗的总时间。对于并行执行场景，该值为每个执行线程的累加值。          |
  | ELAPSED_TIME_DELTA            |   该语句消耗时间的增量   |
  | CPU_TIME_TOTAL                |   总的 CPU 耗时       |
  | CPU_TIME_DELTA                |   总 CPU 耗时的增量     |
  | CCWAIT_TOTAL                  |   并发类等待事件的总耗时       |
  | CCWAIT_DELTA                  |   并发类等待事件总耗时的增量       |
  | USERIO_WAIT_TOTAL             |   I/O 等待的总耗时      |
  | USERIO_WAIT_DELTA             |   I/O 等待的总耗时的增量      |
  | APWAIT_TOTAL                  |   应用类等待事件的总耗时        |
  | APWAIT_DELTA                  |   应用类等待事件总耗时的增量      |
  | PHYSICAL_READ_REQUESTS_TOTAL  |   物理读请求的总次数       |
  | PHYSICAL_READ_REQUESTS_DELTA  |   物理读请求次数的增量      |
  | PHYSICAL_READ_BYTES_TOTAL     |   物理读的总字节数     |
  | PHYSICAL_READ_BYTES_DELTA     |   物理读字节数的增量   |
  | WRITE_THROTTLE_TOTAL          |   写入 MemStore 时被限流的总时间    |
  | WRITE_THROTTLE_DELTA          |   写入 MemStore 时被限流的总时间的增量    |
  | ROWS_PROCESSED_TOTAL          |   语句处理的总行数    |
  | ROWS_PROCESSED_DELTA          |   语句处理的总行数的增量     |
  | MEMSTORE_READ_ROWS_TOTAL      |   从 MemStore 读取的总行数    |
  | MEMSTORE_READ_ROWS_DELTA      |   从 MemStore 读取的总行数的增量    |
  | MINOR_SSSTORE_READ_ROWS_TOTAL |   从 MINOR SSStore 读取的总行数   |
  | MINOR_SSSTORE_READ_ROWS_DELTA |   从 MINOR SSStore 读取的总行数的增量  |
  | MAJOR_SSSTORE_READ_ROWS_TOTAL |   从 MAJOR SSStore 读取的总行数     |
  | MAJOR_SSSTORE_READ_ROWS_DELTA |   从 MAJOR SSStore 读取的总行数的增量   |
  | RPC_TOTAL                     |   RPC 的总次数    |
  | RPC_DELTA                     |   RPC 次数的增量   |
  | FETCHES_TOTAL                 |   获取结果集的总次数   |
  | FETCHES_DELTA                 |   获取结果集次数的增量     |
  | RETRY_TOTAL                   |   SQL 重试的总次数   |
  | RETRY_DELTA                   |   SQL 重试次数的增量      |
  | PARTITION_TOTAL               |   SQL 执行扫描的分区数的总量      |
  | PARTITION_DELTA               |   SQL 执行扫描的分区数的增量    |
  | NESTED_SQL_TOTAL              |   嵌套 SQL 执行的总量，每多执行一次子 SQL 即增加 1     |
  | NESTED_SQL_DELTA              |   嵌套 SQL 执行的增量    |
  | SOURCE_IP                     |   请求来源的 IP     |
  | SOURCE_PORT                   |   请求来源的端口号      |

    有关 `V$OB_SQLSTAT` 视图的更多信息，请参见 [V$OB_SQLSTAT](../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/16700.v-ob_sqlstat-of-mysql-mode.md)。

* **通过 `oceanbase.CDB_WR_SQLSTAT` 视图查看所有租户执行过的 SQL 的基本性能统计数据。**
  
  每个 SQL 语句为一行（即每个 `SQL_ID` + `Plan_Hash` 的唯一值为一行）。其中，含 `_DELTA` 的列表示从上次采集 WR 快照到当前时间为止统计值的增量。

  ```shell
  obclient [oceanbase]> SELECT * FROM oceanbase.CDB_WR_SQLSTAT LIMIT 1;
  ```

  查询结果如下：

  ```shell
  +-----------+---------+----------------+----------+----------------------------------+---------------------+---------+-----------+--------+--------+---------------+-----------------+-----------------+------------------+------------------+------------------+------------------+-------------------+-------------------+--------------------+--------------------+----------------+----------------+--------------+--------------+-------------------+-------------------+--------------+--------------+------------------------------+------------------------------+---------------------------+---------------------------+----------------------+----------------------+----------------------+----------------------+--------------------------+--------------------------+-------------------------------+-------------------------------+-------------------------------+-------------------------------+-----------+-----------+---------------+---------------+-------------+-------------+-----------------+-----------------+------------------+------------------+----------------+-------------+
  | TENANT_ID | SNAP_ID | SVR_IP         | SVR_PORT | SQL_ID                           | PLAN_HASH           | PLAN_ID | PLAN_TYPE | MODULE | ACTION | PARSING_DB_ID | PARSING_DB_NAME | PARSING_USER_ID | EXECUTIONS_TOTAL | EXECUTIONS_DELTA | DISK_READS_TOTAL | DISK_READS_DELTA | BUFFER_GETS_TOTAL | BUFFER_GETS_DELTA | ELAPSED_TIME_TOTAL | ELAPSED_TIME_DELTA | CPU_TIME_TOTAL | CPU_TIME_DELTA | CCWAIT_TOTAL | CCWAIT_DELTA | USERIO_WAIT_TOTAL | USERIO_WAIT_DELTA | APWAIT_TOTAL | APWAIT_DELTA | PHYSICAL_READ_REQUESTS_TOTAL | PHYSICAL_READ_REQUESTS_DELTA | PHYSICAL_READ_BYTES_TOTAL | PHYSICAL_READ_BYTES_DELTA | WRITE_THROTTLE_TOTAL | WRITE_THROTTLE_DELTA | ROWS_PROCESSED_TOTAL | ROWS_PROCESSED_DELTA | MEMSTORE_READ_ROWS_TOTAL | MEMSTORE_READ_ROWS_DELTA | MINOR_SSSTORE_READ_ROWS_TOTAL | MINOR_SSSTORE_READ_ROWS_DELTA | MAJOR_SSSTORE_READ_ROWS_TOTAL | MAJOR_SSSTORE_READ_ROWS_DELTA | RPC_TOTAL | RPC_DELTA | FETCHES_TOTAL | FETCHES_DELTA | RETRY_TOTAL | RETRY_DELTA | PARTITION_TOTAL | PARTITION_DELTA | NESTED_SQL_TOTAL | NESTED_SQL_DELTA | SOURCE_IP      | SOURCE_PORT |
  +-----------+---------+----------------+----------+----------------------------------+---------------------+---------+-----------+--------+--------+---------------+-----------------+-----------------+------------------+------------------+------------------+------------------+-------------------+-------------------+--------------------+--------------------+----------------+----------------+--------------+--------------+-------------------+-------------------+--------------+--------------+------------------------------+------------------------------+---------------------------+---------------------------+----------------------+----------------------+----------------------+----------------------+--------------------------+--------------------------+-------------------------------+-------------------------------+-------------------------------+-------------------------------+-----------+-----------+---------------+---------------+-------------+-------------+-----------------+-----------------+------------------+------------------+----------------+-------------+
  |      1002 |       1 | 172.xx.xxx.xxx |     2882 | 01058E374A5EF26873BA4D99C4A74582 | 5547575357486659143 |     181 |         1 | NULL   | NULL   |        201001 | oceanbase       |          200001 |                1 |                1 |                0 |                0 |                 0 |                 0 |               1424 |               1424 |              0 |              0 |            0 |            0 |                 0 |                 0 |            0 |            0 |                            0 |                            0 |                         0 |                         0 |                    0 |                    0 |                    0 |                    0 |                        0 |                        0 |                             0 |                             0 |                             0 |                             0 |         0 |         0 |             0 |             0 |           0 |           0 |               1 |               1 |                0 |                0 | 172.xx.xxx.xxx |        2882 |
  +-----------+---------+----------------+----------+----------------------------------+---------------------+---------+-----------+--------+--------+---------------+-----------------+-----------------+------------------+------------------+------------------+------------------+-------------------+-------------------+--------------------+--------------------+----------------+----------------+--------------+--------------+-------------------+-------------------+--------------+--------------+------------------------------+------------------------------+---------------------------+---------------------------+----------------------+----------------------+----------------------+----------------------+--------------------------+--------------------------+-------------------------------+-------------------------------+-------------------------------+-------------------------------+-----------+-----------+---------------+---------------+-------------+-------------+-----------------+-----------------+------------------+------------------+----------------+-------------+
  1 row in set
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | ---- | ---- |
  | TENANT_ID                     |  租户 ID |
  | SNAP_ID                       |  快照 ID  |
  | SVR_IP                        |  节点 IP |
  | SVR_PORT                      |  节点端口号     |
  | SQL_ID                        |  SQL 语句 ID   |
  | PLAN_HASH                     |  执行计划的 Hash 值   |
  | PLAN_ID                       |  执行计划 ID   |
  | PLAN_TYPE                     |  对于 SQL 计划的缓存，该字段表示计划的类型：<ul><li>`1`：表示 Local Plan </li> <li>`2`：表示 Remote Plan</li> <li>`3`：表示 Distributed Plan </li></ul> </br>对于 PL 对象缓存，该字段表示 PL 对象的类型：<ul><li>`1`：表示 Procedure</li> <li>`2`：表示 Function</li> <li>`3`：表示 Package</li> <li>`4`：表示 Anonymous Block </li></ul> |
  | MODULE                        | 该语句第一次被解析时的应用程序 Module，通过 `DBMS_APPLICATION_INFO.SET_MODULE` 包设置    |
  | ACTION                        | 该语句第一次被解析时的应用程序 Action，通过 `DBMS_APPLICATION_INFO.SET_ACTION` 包设置      |
  | PARSING_DB_ID                 | 语句解析时的数据库 ID    |
  | PARSING_DB_NAME               | 语句解析时的数据库名称     |
  | PARSING_USER_ID               | 语句解析时的用户 ID     |
  | EXECUTIONS_TOTAL              | 计划缓存中该计划的总执行次数     |
  | EXECUTIONS_DELTA              | 计划缓存中该计划总执行次数的增量      |
  | DISK_READS_TOTAL              | 磁盘读的总次数 |
  | DISK_READS_DELTA              | 磁盘读次数的增量 |
  | BUFFER_GETS_TOTAL             | 从缓存中逻辑读的总次数       |
  | BUFFER_GETS_DELTA             | 从缓存中逻辑读次数的增量      |
  | ELAPSED_TIME_TOTAL            | 该语句消耗的总时间。对于并行执行场景，该值为每个执行线程的累加值。          |
  | ELAPSED_TIME_DELTA            | 该语句消耗时间的增量   |
  | CPU_TIME_TOTAL                | 总的 CPU 耗时       |
  | CPU_TIME_DELTA                | 总 CPU 耗时的增量     |
  | CCWAIT_TOTAL                  | 并发类等待事件的总耗时       |
  | CCWAIT_DELTA                  | 并发类等待事件总耗时的增量       |
  | USERIO_WAIT_TOTAL             | I/O 等待的总耗时      |
  | USERIO_WAIT_DELTA             | I/O 等待的总耗时的增量      |
  | APWAIT_TOTAL                  | 应用类等待事件的总耗时        |
  | APWAIT_DELTA                  | 应用类等待事件总耗时的增量      |
  | PHYSICAL_READ_REQUESTS_TOTAL  | 物理读请求的总次数       |
  | PHYSICAL_READ_REQUESTS_DELTA  | 物理读请求次数的增量      |
  | PHYSICAL_READ_BYTES_TOTAL     | 物理读的总字节数     |
  | PHYSICAL_READ_BYTES_DELTA     | 物理读字节数的增量   |
  | WRITE_THROTTLE_TOTAL          | 写入 MemStore 时被限流的总时间    |
  | WRITE_THROTTLE_DELTA          | 写入 MemStore 时被限流的总时间的增量    |
  | ROWS_PROCESSED_TOTAL          | 语句处理的总行数    |
  | ROWS_PROCESSED_DELTA          | 语句处理的总行数的增量     |
  | MEMSTORE_READ_ROWS_TOTAL      | 从 MemStore 读取的总行数    |
  | MEMSTORE_READ_ROWS_DELTA      | 从 MemStore 读取的总行数的增量    |
  | MINOR_SSSTORE_READ_ROWS_TOTAL | 从 MINOR SSStore 读取的总行数   |
  | MINOR_SSSTORE_READ_ROWS_DELTA | 从 MINOR SSStore 读取的总行数的增量  |
  | MAJOR_SSSTORE_READ_ROWS_TOTAL | 从 MAJOR SSStore 读取的总行数     |
  | MAJOR_SSSTORE_READ_ROWS_DELTA | 从 MAJOR SSStore 读取的总行数的增量   |
  | RPC_TOTAL                     | RPC 的总次数    |
  | RPC_DELTA                     | RPC 次数的增量   |
  | FETCHES_TOTAL                 | 获取结果集的总次数   |
  | FETCHES_DELTA                 | 获取结果集次数的增量     |
  | RETRY_TOTAL                   | SQL 重试的总次数   |
  | RETRY_DELTA                   | SQL 重试次数的增量      |
  | PARTITION_TOTAL               | SQL 执行扫描的分区数的总量      |
  | PARTITION_DELTA               | SQL 执行扫描的分区数的增量    |
  | NESTED_SQL_TOTAL              | 嵌套 SQL 执行的总量，每多执行一次子 SQL 即增加 1     |
  | NESTED_SQL_DELTA              | 嵌套 SQL 执行的增量    |
  | SOURCE_IP                     | 请求来源的 IP     |
  | SOURCE_PORT                   | 请求来源的端口号      |

    有关 `oceanbase.CDB_WR_SQLSTAT` 视图的更多信息，请参见 [oceanbase.CDB_WR_SQLSTAT](../../../700.system-views/300.system-view-of-sys-tenant/200.dictionary-view-of-sys-tenant/28400.cdb_wr_sqlstat-of-sys-tenant.md)。

* **通过 `oceanbase.DBA_WR_SQLSTAT` 视图查看本租户执行过的 SQL 的基本性能统计数据。**
  
  其中，含 `_DELTA` 的列表示从上次采集 WR 快照到当前时间为止统计值的增量。

  ```shell
  obclient [SYS]> SELECT * FROM SYS.DBA_WR_SQLSTAT WHERE ROWNUM = 1;
  ```

  查询结果如下：

  ```shell
  +---------+----------------+----------+----------------------------------+---------------------+---------+-----------+--------+--------+---------------+-----------------+-----------------+------------------+------------------+------------------+------------------+-------------------+-------------------+--------------------+--------------------+----------------+----------------+--------------+--------------+-------------------+-------------------+--------------+--------------+------------------------------+------------------------------+---------------------------+---------------------------+----------------------+----------------------+----------------------+----------------------+--------------------------+--------------------------+-------------------------------+-------------------------------+-------------------------------+-------------------------------+-----------+-----------+---------------+---------------+-------------+-------------+-----------------+-----------------+------------------+------------------+----------------+-------------+
  | SNAP_ID | SVR_IP         | SVR_PORT | SQL_ID                           | PLAN_HASH           | PLAN_ID | PLAN_TYPE | MODULE | ACTION | PARSING_DB_ID | PARSING_DB_NAME | PARSING_USER_ID | EXECUTIONS_TOTAL | EXECUTIONS_DELTA | DISK_READS_TOTAL | DISK_READS_DELTA | BUFFER_GETS_TOTAL | BUFFER_GETS_DELTA | ELAPSED_TIME_TOTAL | ELAPSED_TIME_DELTA | CPU_TIME_TOTAL | CPU_TIME_DELTA | CCWAIT_TOTAL | CCWAIT_DELTA | USERIO_WAIT_TOTAL | USERIO_WAIT_DELTA | APWAIT_TOTAL | APWAIT_DELTA | PHYSICAL_READ_REQUESTS_TOTAL | PHYSICAL_READ_REQUESTS_DELTA | PHYSICAL_READ_BYTES_TOTAL | PHYSICAL_READ_BYTES_DELTA | WRITE_THROTTLE_TOTAL | WRITE_THROTTLE_DELTA | ROWS_PROCESSED_TOTAL | ROWS_PROCESSED_DELTA | MEMSTORE_READ_ROWS_TOTAL | MEMSTORE_READ_ROWS_DELTA | MINOR_SSSTORE_READ_ROWS_TOTAL | MINOR_SSSTORE_READ_ROWS_DELTA | MAJOR_SSSTORE_READ_ROWS_TOTAL | MAJOR_SSSTORE_READ_ROWS_DELTA | RPC_TOTAL | RPC_DELTA | FETCHES_TOTAL | FETCHES_DELTA | RETRY_TOTAL | RETRY_DELTA | PARTITION_TOTAL | PARTITION_DELTA | NESTED_SQL_TOTAL | NESTED_SQL_DELTA | SOURCE_IP      | SOURCE_PORT |
  +---------+----------------+----------+----------------------------------+---------------------+---------+-----------+--------+--------+---------------+-----------------+-----------------+------------------+------------------+------------------+------------------+-------------------+-------------------+--------------------+--------------------+----------------+----------------+--------------+--------------+-------------------+-------------------+--------------+--------------+------------------------------+------------------------------+---------------------------+---------------------------+----------------------+----------------------+----------------------+----------------------+--------------------------+--------------------------+-------------------------------+-------------------------------+-------------------------------+-------------------------------+-----------+-----------+---------------+---------------+-------------+-------------+-----------------+-----------------+------------------+------------------+----------------+-------------+
  |       1 | 172.xx.xxx.xxx |     2882 | 01058E374A5EF26873BA4D99C4A74582 | 5547575357486659143 |     223 |         1 | NULL   | NULL   |        201001 | oceanbase       |          200001 |                1 |                1 |                1 |                1 |                 1 |                 1 |               1699 |               1699 |              0 |              0 |            0 |            0 |                 0 |                 0 |            0 |            0 |                            1 |                            1 |                       193 |                       193 |                    0 |                    0 |                    0 |                    0 |                        0 |                        0 |                             0 |                             0 |                             0 |                             0 |         0 |         0 |             0 |             0 |           0 |           0 |               1 |               1 |                0 |                0 | 172.xx.xxx.xxx |        2882 |
  +---------+----------------+----------+----------------------------------+---------------------+---------+-----------+--------+--------+---------------+-----------------+-----------------+------------------+------------------+------------------+------------------+-------------------+-------------------+--------------------+--------------------+----------------+----------------+--------------+--------------+-------------------+-------------------+--------------+--------------+------------------------------+------------------------------+---------------------------+---------------------------+----------------------+----------------------+----------------------+----------------------+--------------------------+--------------------------+-------------------------------+-------------------------------+-------------------------------+-------------------------------+-----------+-----------+---------------+---------------+-------------+-------------+-----------------+-----------------+------------------+------------------+----------------+-------------+
  1 row in set
  ```

  各字段的解释如下：

  | **字段**  | **描述** |
  | --- | --- |
  | SNAP_ID                       | 快照 ID  |
  | SVR_IP                        | 节点 IP |
  | SVR_PORT                      | 节点端口号     |
  | SQL_ID                        | SQL 语句 ID   |
  | PLAN_HASH                     | 执行计划的 Hash 值   |
  | PLAN_ID                       | 执行计划 ID   |
  | PLAN_TYPE                     | 对于 SQL 计划的缓存，该字段表示计划的类型：<ul><li>`1`：表示 Local Plan </li> <li>`2`：表示 Remote Plan</li> <li>`3`：表示 Distributed Plan </li></ul> </br>对于 PL 对象缓存，该字段表示 PL 对象的类型：<ul><li>`1`：表示 Procedure</li> <li>`2`：表示 Function</li> <li>`3`：表示 Package</li> <li>`4`：表示 Anonymous Block </li></ul> |
  | MODULE                        | 该语句第一次被解析时的应用程序 Module，通过 `DBMS_APPLICATION_INFO.SET_MODULE` 包设置    |
  | ACTION                        | 该语句第一次被解析时的应用程序 Action，通过 `DBMS_APPLICATION_INFO.SET_ACTION` 包设置      |
  | PARSING_DB_ID                 | 语句解析时的数据库 ID    |
  | PARSING_DB_NAME               | 语句解析时的数据库名称     |
  | PARSING_USER_ID               | 语句解析时的用户 ID     |
  | EXECUTIONS_TOTAL              | 计划缓存中该计划的总执行次数     |
  | EXECUTIONS_DELTA              | 计划缓存中该计划总执行次数的增量      |
  | DISK_READS_TOTAL              | 磁盘读的总次数 |
  | DISK_READS_DELTA              | 磁盘读次数的增量 |
  | BUFFER_GETS_TOTAL             | 从缓存中逻辑读的总次数       |
  | BUFFER_GETS_DELTA             | 从缓存中逻辑读次数的增量      |
  | ELAPSED_TIME_TOTAL            | 该语句消耗的总时间。对于并行执行场景，该值为每个执行线程的累加值。          |
  | ELAPSED_TIME_DELTA            | 该语句消耗时间的增量   |
  | CPU_TIME_TOTAL                | 总的 CPU 耗时       |
  | CPU_TIME_DELTA                | 总 CPU 耗时的增量     |
  | CCWAIT_TOTAL                  | 并发类等待事件的总耗时       |
  | CCWAIT_DELTA                  | 并发类等待事件总耗时的增量       |
  | USERIO_WAIT_TOTAL             | I/O 等待的总耗时      |
  | USERIO_WAIT_DELTA             | I/O 等待的总耗时的增量      |
  | APWAIT_TOTAL                  | 应用类等待事件的总耗时        |
  | APWAIT_DELTA                  | 应用类等待事件总耗时的增量      |
  | PHYSICAL_READ_REQUESTS_TOTAL  | 物理读请求的总次数       |
  | PHYSICAL_READ_REQUESTS_DELTA  | 物理读请求次数的增量      |
  | PHYSICAL_READ_BYTES_TOTAL     | 物理读的总字节数     |
  | PHYSICAL_READ_BYTES_DELTA     | 物理读字节数的增量   |
  | WRITE_THROTTLE_TOTAL          | 写入 MemStore 时被限流的总时间    |
  | WRITE_THROTTLE_DELTA          | 写入 MemStore 时被限流的总时间的增量    |
  | ROWS_PROCESSED_TOTAL          | 语句处理的总行数    |
  | ROWS_PROCESSED_DELTA          | 语句处理的总行数的增量     |
  | MEMSTORE_READ_ROWS_TOTAL      | 从 MemStore 读取的总行数    |
  | MEMSTORE_READ_ROWS_DELTA      | 从 MemStore 读取的总行数的增量    |
  | MINOR_SSSTORE_READ_ROWS_TOTAL | 从 MINOR SSStore 读取的总行数   |
  | MINOR_SSSTORE_READ_ROWS_DELTA | 从 MINOR SSStore 读取的总行数的增量  |
  | MAJOR_SSSTORE_READ_ROWS_TOTAL | 从 MAJOR SSStore 读取的总行数     |
  | MAJOR_SSSTORE_READ_ROWS_DELTA | 从 MAJOR SSStore 读取的总行数的增量   |
  | RPC_TOTAL                     | RPC 的总次数    |
  | RPC_DELTA                     | RPC 次数的增量   |
  | FETCHES_TOTAL                 | 获取结果集的总次数   |
  | FETCHES_DELTA                 | 获取结果集次数的增量     |
  | RETRY_TOTAL                   | SQL 重试的总次数   |
  | RETRY_DELTA                   | SQL 重试次数的增量      |
  | PARTITION_TOTAL               | SQL 执行扫描的分区数的总量      |
  | PARTITION_DELTA               | SQL 执行扫描的分区数的增量    |
  | NESTED_SQL_TOTAL              | 嵌套 SQL 执行的总量，每多执行一次子 SQL 即增加 1     |
  | NESTED_SQL_DELTA              | 嵌套 SQL 执行的增量    |
  | SOURCE_IP                     | VARCHAR2(46)        | NO   |   请求来源的 IP     |
  | SOURCE_PORT                   | 请求来源的端口号      |

    有关 `DBA_WR_SQLSTAT` 视图的更多信息，请参见 [oceanbase.DBA_WR_SQLSTAT](../../../700.system-views/400.system-view-of-mysql-mode/200.dictionary-view-of-mysql-mode/26700.dba_wr_sqlstat-of-mysql-mode.md) 和 [DBA_WR_SQLSTAT](../../../700.system-views/500.system-view-of-oracle-mode/200.dictionary-view-of-oracle-mode/33000.dba_wr_sqlstat-of-oracle-mode.md)。

## 相关文档

* [WR 概述](100.wr-overview.md)
* [管理 WR](200.manage-wr.md)
* [清理 WR 数据](400.clean-up-wr-data.md)
