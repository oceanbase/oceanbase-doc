|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# oceanbase.DBA_OB_BACKUP_DELETE_JOB_HISTORY

## 功能

展示租户下已执行的备份清理任务历史信息。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>从 V4.0.0 版本开始引入。</p>
</main>

## 字段说明

| 字段名称 | 类型 | 是否可以为 NULL | 描述 |
| --- | --- | --- | --- |
| TENANT_ID | bigint(20) | NO | 租户 ID |
| JOB_ID | bigint(20) | NO | 任务 ID，单调递增 |
| INCARNATION | bigint(20) | NO | 分身 ID |
| INITIATOR_TENANT_ID | bigint(20) | NO | 发起此次 JOB 的租户 ID |
| INITIATOR_JOB_ID | bigint(20) | NO | 发起此次 JOB 的租户所属的 JOB_ID |
| EXECUTOR_TENANT_ID | varchar(65536) | NO | 执行清理任务的租户列表 |
| TYPE | varchar(64) | NO | 清理类型：<ul><li>DELETE OBSOLETE BACKUP : 过期清理</li></ul>  |
| PARAMETER | timestamp(6) | NO | PARAMETER 的内容组成如下：<li>自动清理/过期清理：policy_name = xxx; expired_time = xxx; redundancy:2; backup_copies:1;<li>手动清理 backup_set：backup_set_id = 1; dest_id = 1; dest = xxxxx;<li>手动清理 backup_piece：dest_round_id = 1; backup_piece_id = 1; dest_id = 1; dest = xxxx;<li>手动清理 backup_round：dest_round_id = 1; dest_id = 1; dest = xxxx;<li>清理整个 dest 的备份信息：dest_id = 1; dest = xxx; |
| JOB_LEVEL | varchar(64) | NO | 任务发起级别，包括：USER_TENANT、CLUSTER、SYS_TENANT |
| START_TIMESTAMP | timestamp(6) | NO | 任务开始时租户当前时间 |
| END_TIMESTAMP | timestamp(6) | NO | 任务结束时租户当前时间 |
| STATUS | varchar(64) | NO | 任务状态，包含：<li>INIT<li>DOING<li>CANCELING<li>CANCELED<li>COMPLETED<li>FAILED |
| TASK_COUNT | bigint(20) | YES | backup_set/piece 任务数 |
| SUCCESS_TASK_COUNT | bigint(20) | YES | backup_set/piece 执行成功的任务数 |
| RESULT | bigint(20) | NO | 错误码 |
| COMMENT | varchar(4096) | YES | 任务执行说明 |
