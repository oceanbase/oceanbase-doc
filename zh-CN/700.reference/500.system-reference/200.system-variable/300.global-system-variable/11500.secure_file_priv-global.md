|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# secure_file_priv

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该变量从 V2.2.77 版本开始引入。</p>
</main>

## 功能描述

`secure_file_priv` 用于控制导入或导出到文件时可以访问的路径。仅数据库管理员可以设置该变量，其他人无法设置。

## 权限要求

* 查询变量

  `sys` 租户和所有用户租户均可以使用 `SHOW VARIABLES` 语句或视图 `SYS.TENANT_VIRTUAL_GLOBAL_VARIABLE`（Oracle 模式）及视图 `information_schema.GLOBAL_VARIABLES`（MySQL 模式）查看 Global 系统变量的值。

* 修改变量

  * Global 生效

    * `sys` 租户可以直接修改 Global 系统变量的值。
  
    * MySQL 用户租户需要拥有 `SUPER` 或 `ALTER SYSTEM` 权限才能修改 Global 系统变量的值。

## 属性说明

|  **属性**   | **描述**  |
|-------------|-----------|
| 参数类型      | Varchar |
| 默认值        | "NULL"    |
| 取值范围      | <ul><li>空字符串：表示没有限制，任意路径均可以访问  </li><li>`NULL`: 表示没有限制，任意路径均可以访问</li><li>路径名：表示仅该路径下的文件可以被导入或导出 </li> <li> `"NULL"`：表示导入、导出被禁用 </li></ul>    |
| 生效范围      | GLOBAL  |
| 是否可修改    | 是，支持通过 `SET` 语句修改。|
| 是否影响计划的生成 | 是       |
| 是否可为空     | 是       |

## 使用说明

* **V4.1.0 BP3 之前版本**

  通过本地 Client （即：OBClient 所在机器与连接的 OBServer 所在机器的 IP 地址相同。）执行修改该全局变量的 SQL 语句。

  ```shell
  obclient -h127.0.0.1 -P2881 -u******@obtenant -p******
  ```

* **V4.1.0 BP3 及之后版本**

  **仅支持通过本地 Unix Socket 连接 OceanBase 数据库**。

  ```shell
  obclient -S /home/admin/oceanbase/run/sql.sock -u******@obtenant -p******
  ```

  **参数说明如下：**

  * **-S**：提供 本地 OBServer 节点的 Unix Socket 文件路径，位于本地 ObServer 安装目录下的run/sql.sock，默认 Unix Socket 文件路径为 `/home/admin/oceanbase/run/sql.sock`。
  * **-u**：提供租户的连接账户，格式为：`用户名@租户名`。
  
  通过 Unix Socket 方式连接时，只能连接本地 OBServer 节点，同时也需要确保该租户的资源分布在本地 OBServer 节点上，如果该租户的资源未分布在本地 OBServer 节点上，则无法通过本地 OBServer 节点连接到该租户。

## 配置示例

设置导入或导出到文件时可以访问的路径为 `""`。

```shell
obclient> SET GLOBAL secure_file_priv = "";
```

## 相关文档

[旁路导入中路径的设置](../../../../500.data-migration/700.migrate-data-from-csv-file-to-oceanbase-database/200.use-the-load-command-to-load-the-csv-data-file-to-the-oceanbase-database.md)
