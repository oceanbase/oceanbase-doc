# ob_admin 简介

ob_admin 是 OceanBase 数据库的配套运维工具之一，本文介绍了 ob_admin 的安装步骤以及功能介绍。

## ob_admin 安装

您可通过 OceanBase 数据的源码自行编译。

1. 克隆 [OceanBase 数据库](https://github.com/oceanbase/oceanbase) 的开源代码到本地。

2. 在 oceanbase 目录下执行以下命令编译 ob_admin：

    ```bash
    sh build.sh rpm --init

    cd build_rpm

    make ob_admin
    ```

## ob_admin 功能介绍

ob_admin 提供了 slog_tool、log_tool、dumpsst 和 dump_backup 功能，主要用于排查数据不一致、丢数据、错误数据等问题。下面分别从各个子功能来简要介绍一下 ob_admin。

### slog_tool

slog_tool 目前只有一个功能，即显示输出 slog 文件中的日志内容。命令格式如下：

```bash
$./ob_admin slog_tool -f ../store/slog/1
```

  <main id="notice" type='explain'>
    <h4>说明</h4>
    <p>slog_tool 对路径格式有要求，需要以点（.）或斜线（/）开头。</p>
  </main>

### log_tool

log_tool 主要具有以下功能：

* 提供 `dump clog` 文件中的日志内容。
* 统计 clog 文件中各模块占比。
* 指定字段查找日志。

具体用法请参见 [log_tool](300.clog/300.clog-tool.md)。

### dumpsst

dumpsst 用来显示 `block_file` 文件中的内容，例如 super block，macro block，macro block meta，sstable， sstable meta 等。通常用于线上问题调查追溯，定位数据问题等。具体用法请参见 [dumpsst](../200.ob-admin/500.dumpsst.md)。

### dump_backup

dump_backup 功能可解析用于物理备份的数据备份内容。具体用法请参见 [dump_backup](../200.ob-admin/600.dump-backup.md)。

  <main id="notice" type='explain'>
    <h4>说明</h4>
    <p>ob_admin 可以通过环境变量 <code>OB_ADMIN_LOG_LEVEL</code> 来控制打印日志级别，环境变量可取值为：DEBUG、TRACE、INFO、WARNNING、ERROR。</p>
  </main>
